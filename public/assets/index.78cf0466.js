import{o as l,c,a,b as F,d as h,e as _,F as f,r as g,w as S,f as $,l as ce,g as G,t as y,h as b,v as I,i as T,j as C,k as ue,n as U,m as Y,p as H,q as M,s as O,u as ee,C as te,D as se,x as pe,y as me,z as ge,A as he,B as fe,E as ve,_ as _e,G as be,H as ye,I as Ce}from"./vendor.2c3a4e74.js";const ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&d(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};ke();var re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcdGSUfpgSvvVX7mXU8CRUW6mWO7HW/NaSFi5Xd5kSfbOXVzBYPNmS+FrTNO5WGTDYP3XYHCmWN9uS/xlTPjXX+i9We/GW2LHYftmTNm9WWLMY22wWmW3XGe5XYbNYZyvWXXNYvq8Wle3Xe9ZSOzGW4Et03cAAAAjdFJOUwAq8+0JFSn9/f0/+fmwkETD1EJg27eEoOvFZc9ql7TCi9O6FQVE8gAAB1xJREFUeNrtnIdyozoUhgOIIoyNwbjFJd4Qv/8rXlQAARKiI9/Rmd2dTOq3J7/+U0Ty9aVDhw4dOnTo0KFj+QC24ZMwbPAZyLZ/2G2vJLa7g/EB2MDYbU0PxR/6x0y2B0P5NB8y5D82PHPr20qn2d8l5l89zOvOBwozb5vINNlAdWZWH+Rldakps1fPM6beqalre8dlpq9JDiqmGhyuGZ3n8TSN/m59BaGNrcfNc+EhKgrkkPy1hnf1VVW0iBinWjlV+1fvT5LqraHcMZSoQ0V92FtTBq2c6wE/8dqsQ0n/aD+GioqamPRnQXdQB3r71fg4daiW6U7qUO0g4srifZblkcoilXTiq6WOD5S0XB3qNUwAe4f3Wa2HIW/wlPMOeWVBM5ip1rjVrbJc1WrxZJVFxRWCzKQ9FZc1MnV4Ki6YJOpQklmyOvCIQyvGDKSrA0+9jVirOvCSLFFvtXRIPBlz1icBAD5FHaR6G/juyFfowshoafAK47BPkRWdlTmNoE0dOTM4RO7btX5VaT5aKgvOMzY7+7x5Z2GdFVGIuP0nBo3NzvjF0G/rZKihDlH77+Gh8GCTw2q9364y1EKTrnZ2/q+LU+1GB1tddVDmPK9Y1C6hBgp4B/86i5pd+X7Rm1Bvflc3PpF31JipPlw1qFuuLKrdqH1C+iDUKxcZwZVFadDMe0ZuTp3Z9arq4C6WGINu6INQn1a0EP7qgBp0TQJEHyTX7prUNm+xJOigwYHWF0wdfa9GzassNYNm3hnrg1pIRg1WUwe/hHPH2KK+YOzNMQQrqqMjczbhoPaUUGO7Xoda0HeI1gW41aMtCLbrVfrUZmXhml2hppNVQK9m183KIlkXoP7DZalXMD5uZfFa1gWMPlYzPp83HCY78fec1peSerM4dX11IDToav+RQ5PDuLRd1y608n1u64cw+ljFrnl9h2w3WtEHHRqP4bqVRbrPBWFUIufU5wVzjSuL18mgq/pwmVS7yy5DSN9RM2ipFTD1hbVrYzV1JF2WA2HRfzDUi1lIo+/odnmFWj23Tr1Yn+pf68ydvsdEHxXo5YyvXlk638bW9bGkXdfU0f3yyjhXrLoojQtQ1xq8Hhdu9rdVh17KrqveYfa49QZNfSzVXTts++/1uqnn6GOZ7rqqjqTX9hZw9EGNb15qh1WHuXN6/Yc5+lhkJogZ78iY+50gm6OPBSyEVYe5i/t+NE8fdAs8IzXjHRlz7y8THjn6mJ26VIe57c+c6cPiQs9qfOCeFAY9gDnTR36VwTU+Y2Z1XO+DvpnGccNJNbWQmey6UEfyGvb50agogp7JrsGLqsN8OQM/w3f0FlDPtQzJK8sQ42D8gyPqGbtrZ+uNZBbUlzmLjP0yRzLT+sKldukyZGrqeJeYyRjm3D+EApnBrkH82r1GMeP6ItDHVHYNnDwoKRj7U/dC/yjXCqOMD9jx/bkn8bzHjjPJrwlA+hClevRaATj3x/4SQBLB5d/++SDk49DRKsEVQ7tjtsB2/LgFMGUCBsFlj8nHJf2bNwpMsVbI0rwPclgWHeX8tqdJByP84z09dfy4wApwppAUluQY/fmInQHk9FEKMfXA3XXGTOgq8oCV1+TgvdUC2vUxdK3gUGZewLSu84w8P6IT+MfQPhXcL3Up18nJG2GRc3pEnU7ktasMofH1Wk/Ee9jOzKLDus7lOeevEjiHsZc4goYM0ja5QOaEBsFNbugyfSBot9feCdxvPZjTppBIJaLk3KST+tJGjZ8Oibqn2n4E6ZDAhTOtuOK/fz/PF88WpfrAb7VOnT3J2cN+iW6gs4aekf9k5KFR+f1G5CrjLUn15mh0Poa3dGxA9ohCSv76Lsn5q6amgXTVB0AeDdNJwBm9EPCfPOVyfaDHy6yujZPzDCaBZnNeJh2nPOsrjG76ONvdJQ0ng24aOkwvL1vaf/QU9bhzKE969sKP0aG+KAjNvcpoHMVe0BDOQJw3LGmAoFtWCYMyHUyaaWrcTG/1gzyhQ//R4yDigginA4ZsF0tcz5atEnLoziUR96VwGsNIq+UFu3S1vriS4tK1jse3caKuODMGxi0I4gU9Wj08lXeeXkZUF9jssLM+9XXnTpL8q4yKeZztnnPLYEcrR/b2iUB0lTFsaRP3dGpWvtUBpn2xQ6zaFXemfWbbHqlu6BcluOuQm7neW0BNE/018bwFa+1nQHY4vTZ+NnrWhkc95JYfxM9API7D2ogSMCsnp9eeD4RHLvWw7Xo2jwcpF7s2UgXlomnIXpJS1+bFoTcC4N6khryd3oiVHqXeFKuwfG06+BaDKoSdQGCph+CGeZ3xG2sQni23oCU/CYPWS8OeEAKNTW+p39HLXvbrGKejVXtEyDqehj7O6dwft2KnDosVL+Kd9OfA7fAUWRuUZPxnY0XncPj9BXDix/6WB7EzZ47HGzLsYxRZKKLoeApH3tqW90Qz8RYiCcNvFGFofMivfybcJL506NChQ4cOHTp06NChQ4cOHTp06NChQ4cOHTp06PgfxX9p9UhUYCchkQAAAABJRU5ErkJggg==",m=(t,e)=>{const r=t.__vccOpts||t;for(const[d,o]of e)r[d]=o;return r};const we={name:"main-nav",props:{boards:Object}},Me={class:"main-nav"},$e={class:"upper-nav"},Oe=a("img",{src:re,alt:""},null,-1),Se=[Oe],Te={class:"svg-container"},xe=F('<div class="svg-wrapper" data-title="Workspace"><svg viewBox="0 0 20 20" fill="currentColor" width="23" height="23" aria-hidden="true" class="icon_component surface-item-icon icon_component--no-focus-style"><path d="M3 2.25C2.58579 2.25 2.25 2.58579 2.25 3V8.38462C2.25 8.79883 2.58579 9.13462 3 9.13462H8.38462C8.79883 9.13462 9.13462 8.79883 9.13462 8.38462V3C9.13462 2.58579 8.79883 2.25 8.38462 2.25H3ZM3.75 7.63462V3.75H7.63462V7.63462H3.75ZM11.6154 2.25C11.2012 2.25 10.8654 2.58579 10.8654 3V8.38462C10.8654 8.79883 11.2012 9.13462 11.6154 9.13462H17C17.4142 9.13462 17.75 8.79883 17.75 8.38462V3C17.75 2.58579 17.4142 2.25 17 2.25H11.6154ZM12.3654 7.63462V3.75H16.25V7.63462H12.3654ZM2.25 11.6154C2.25 11.2012 2.58579 10.8654 3 10.8654H8.38462C8.79883 10.8654 9.13462 11.2012 9.13462 11.6154V17C9.13462 17.4142 8.79883 17.75 8.38462 17.75H3C2.58579 17.75 2.25 17.4142 2.25 17V11.6154ZM3.75 12.3654V16.25H7.63462V12.3654H3.75ZM11.6154 10.8654C11.2012 10.8654 10.8654 11.2012 10.8654 11.6154V17C10.8654 17.4142 11.2012 17.75 11.6154 17.75H17C17.4142 17.75 17.75 17.4142 17.75 17V11.6154C17.75 11.2012 17.4142 10.8654 17 10.8654H11.6154ZM12.3654 16.25V12.3654H16.25V16.25H12.3654Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="svg-wrapper" data-title="Notifications"><svg width="23" height="23" class="sb-icon sb-hover sb-focus"><path d="M10 2.04999C10.4143 2.04999 10.75 2.38577 10.75 2.79999V3.61058C12.0546 3.75821 13.2785 4.34336 14.2159 5.28079C15.309 6.37389 15.9231 7.85644 15.9231 9.4023C15.9231 11.7406 16.1727 13.0548 16.3959 13.758C16.5068 14.1075 16.6088 14.2984 16.6645 14.3868C16.6835 14.4168 16.697 14.435 16.7038 14.4435C16.9179 14.6455 16.9953 14.9565 16.8964 15.2377C16.7908 15.538 16.5072 15.7389 16.1889 15.7389H12.9529C12.9516 15.8038 12.9418 15.8695 12.9226 15.9348C12.7439 16.5449 12.3725 17.0809 11.864 17.4623C11.3554 17.8437 10.7371 18.05 10.1015 18.05C9.46584 18.05 8.84746 17.8437 8.33891 17.4623C7.83037 17.0809 7.45905 16.5449 7.28027 15.9348C7.26115 15.8695 7.2513 15.8038 7.24997 15.7389H4.00001C3.71313 15.7389 3.45138 15.5752 3.32575 15.3173C3.20248 15.0643 3.23145 14.764 3.39963 14.5394C3.40133 14.5369 3.40486 14.5316 3.41004 14.5235C3.42459 14.5005 3.45231 14.4542 3.48918 14.3812C3.56285 14.2352 3.67358 13.9813 3.78854 13.5917C4.01863 12.812 4.26574 11.4886 4.26574 9.4023C4.26574 7.85644 4.87984 6.37389 5.97293 5.28079C6.865 4.38872 8.01646 3.81567 9.25004 3.63507V2.79999C9.25004 2.38577 9.58582 2.04999 10 2.04999ZM8.80705 15.7389C8.90698 15.9443 9.05465 16.1241 9.2389 16.2623C9.488 16.4491 9.79062 16.55 10.1015 16.55C10.4123 16.55 10.7149 16.4491 10.964 16.2623C11.1483 16.1241 11.2959 15.9443 11.3959 15.7389H8.80705ZM7.03359 6.34145C7.84538 5.52967 8.9464 5.07361 10.0944 5.07361C11.2425 5.07361 12.3435 5.52967 13.1553 6.34145C13.9671 7.15324 14.4231 8.25426 14.4231 9.4023C14.4231 11.8353 14.6814 13.3144 14.9661 14.2117L14.9748 14.2389H5.15815C5.18119 14.1682 5.20426 14.0941 5.22721 14.0163C5.50499 13.075 5.76574 11.6052 5.76574 9.4023C5.76574 8.25426 6.2218 7.15324 7.03359 6.34145Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="svg-wrapper" data-title="Inbox"><svg width="23" height="23" class="sb-icon sb-hover sb-focus"><path d="M1.91632 11.0669C1.91632 10.6527 2.25211 10.3169 2.66632 10.3169H7.44893C7.86314 10.3169 8.19893 10.6527 8.19893 11.0669V11.6764C8.19893 11.9011 8.40478 12.1455 8.72429 12.1455H11.5939C11.9134 12.1455 12.1192 11.9011 12.1192 11.6764V11.0669C12.1192 10.6527 12.455 10.3169 12.8692 10.3169H17.333C17.7472 10.3169 18.083 10.6527 18.083 11.0669V13.3336C18.083 14.8523 16.8518 16.0836 15.333 16.0836H4.66632C3.14754 16.0836 1.91632 14.8523 1.91632 13.3336V11.0669ZM3.41632 11.8169V13.3336C3.41632 14.0239 3.97597 14.5836 4.66632 14.5836H15.333C16.0233 14.5836 16.583 14.0239 16.583 13.3336V11.8169H13.6142C13.5391 12.8634 12.6313 13.6455 11.5939 13.6455H8.72429C7.68683 13.6455 6.77904 12.8634 6.70395 11.8169H3.41632Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path><path d="M5.84564 5.41675C5.59751 5.41675 5.37654 5.57371 5.29484 5.808L3.37482 11.3137C3.23843 11.7048 2.8108 11.9113 2.41968 11.7749C2.02857 11.6385 1.82208 11.2109 1.95847 10.8198L3.87849 5.31407C4.17029 4.47733 4.95947 3.91675 5.84564 3.91675H14.1543C15.0405 3.91675 15.8297 4.47733 16.1215 5.31407L18.0415 10.8198C18.1779 11.2109 17.9714 11.6385 17.5803 11.7749C17.1892 11.9113 16.7615 11.7048 16.6251 11.3137L14.7051 5.808C14.6234 5.57371 14.4024 5.41675 14.1543 5.41675H5.84564Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div>',3),Ne=a("svg",{width:"23",height:"23",class:"sb-icon sb-hover sb-focus"},[a("path",{d:"M5.99986 1.82129C6.41407 1.82129 6.74986 2.15708 6.74986 2.57129V4.10701H13.2499V2.57129C13.2499 2.15708 13.5856 1.82129 13.9999 1.82129C14.4141 1.82129 14.7499 2.15708 14.7499 2.57129V4.107H16.2856C16.7876 4.107 17.269 4.30643 17.624 4.66141C17.979 5.01639 18.1784 5.49784 18.1784 5.99986V16.2856C18.1784 16.7876 17.979 17.269 17.624 17.624C17.269 17.979 16.7876 18.1784 16.2856 18.1784H3.71415C3.21213 18.1784 2.73067 17.979 2.37569 17.624C2.02071 17.269 1.82129 16.7876 1.82129 16.2856V5.99986C1.82129 5.49784 2.02071 5.01639 2.37569 4.66141C2.73067 4.30643 3.21213 4.107 3.71415 4.107C3.763 4.107 3.81077 4.11168 3.85702 4.1206C3.90326 4.11168 3.95102 4.10701 3.99986 4.10701H5.24986V2.57129C5.24986 2.15708 5.58565 1.82129 5.99986 1.82129ZM5.24986 7.14272V5.60701H3.99986C3.95101 5.60701 3.90324 5.60234 3.85699 5.59342C3.81075 5.60233 3.76299 5.607 3.71415 5.607C3.60995 5.607 3.51003 5.64839 3.43635 5.72207C3.36268 5.79574 3.32129 5.89567 3.32129 5.99986V16.2856C3.32129 16.3898 3.36268 16.4897 3.43635 16.5634C3.51003 16.637 3.60995 16.6784 3.71415 16.6784H16.2856C16.3898 16.6784 16.4897 16.637 16.5634 16.5634C16.637 16.4897 16.6784 16.3898 16.6784 16.2856V5.99986C16.6784 5.89567 16.637 5.79574 16.5634 5.72207C16.4897 5.64839 16.3898 5.607 16.2856 5.607H14.7499V7.14272C14.7499 7.55693 14.4141 7.89272 13.9999 7.89272C13.5856 7.89272 13.2499 7.55693 13.2499 7.14272V5.60701H6.74986V7.14272C6.74986 7.55693 6.41407 7.89272 5.99986 7.89272C5.58565 7.89272 5.24986 7.55693 5.24986 7.14272ZM13.4214 9.92231C13.6942 9.61058 13.6626 9.13676 13.3509 8.864C13.0392 8.59124 12.5653 8.62283 12.2926 8.93455L8.75058 12.9825L7.02129 11.6856C6.68992 11.437 6.21982 11.5042 5.97129 11.8356C5.72276 12.1669 5.78992 12.637 6.12129 12.8856L8.407 14.5999C8.72086 14.8353 9.16309 14.789 9.42144 14.4937L13.4214 9.92231Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})],-1),De=[Ne],Be=F('<nav class="lower-nav"><div class="svg-container"><div class="svg-wrapper" data-title="Apps"><svg width="23" height="23" class="sb-icon icon-apps sb-hover sb-focus"><path d="M5.6579 4.88C5.6579 3.28943 6.9472 2 8.53766 2C10.1281 2 11.4174 3.28943 11.4174 4.88C11.4174 4.89526 11.4173 4.91051 11.4171 4.92572H13.0502C14.1675 4.92572 15.0732 5.83153 15.0732 6.94891V8.58332C15.0889 8.58307 15.1045 8.58295 15.1202 8.58295C16.7107 8.58295 18 9.87237 18 11.4629C18 13.0535 16.7107 14.3429 15.1202 14.3429C15.1045 14.3429 15.0889 14.3428 15.0732 14.3426V15.9768C15.0732 17.0942 14.1675 18 13.0502 18H4.02304C2.90574 18 2 17.0942 2 15.9768V13.5322C2 13.3096 2.10806 13.1009 2.28982 12.9723C2.47157 12.8438 2.70441 12.8115 2.91427 12.8858C3.07072 12.9411 3.23976 12.9715 3.41737 12.9715C4.25045 12.9715 4.9258 12.2961 4.9258 11.4629C4.9258 10.6298 4.25045 9.95437 3.41737 9.95437C3.23975 9.95437 3.07072 9.98478 2.91427 10.0401C2.70441 10.1143 2.47157 10.0821 2.28982 9.95353C2.10806 9.82501 2 9.61625 2 9.39363V6.9489C2 5.83153 2.90575 4.92572 4.02304 4.92572H5.65825C5.65802 4.91051 5.6579 4.89526 5.6579 4.88ZM8.53766 3.37143C7.70458 3.37143 7.02923 4.04683 7.02923 4.88C7.02923 5.05755 7.05961 5.22652 7.11489 5.38292C7.18906 5.5928 7.15675 5.82562 7.02824 6.00736C6.89972 6.1891 6.69099 6.29715 6.46841 6.29715H4.02304C3.66311 6.29715 3.37133 6.58895 3.37133 6.9489V8.5833C3.38665 8.58306 3.402 8.58294 3.41737 8.58294C5.00783 8.58294 6.29714 9.87237 6.29714 11.4629C6.29714 13.0535 5.00783 14.3429 3.41737 14.3429C3.402 14.3429 3.38665 14.3428 3.37133 14.3426V15.9768C3.37133 16.3368 3.66311 16.6286 4.02304 16.6286H13.0502C13.4101 16.6286 13.7019 16.3368 13.7019 15.9768V13.5319C13.7019 13.3092 13.81 13.1004 13.9918 12.9719C14.1737 12.8434 14.4066 12.8112 14.6165 12.8855C14.7731 12.941 14.9424 12.9715 15.1202 12.9715C15.9533 12.9715 16.6287 12.2961 16.6287 11.4629C16.6287 10.6298 15.9533 9.95438 15.1202 9.95438C14.9424 9.95438 14.7731 9.98488 14.6165 10.0404C14.4066 10.1147 14.1737 10.0825 13.9918 9.95399C13.81 9.82548 13.7019 9.61667 13.7019 9.39399V6.94891C13.7019 6.58895 13.4101 6.29715 13.0502 6.29715H10.6069C10.3843 6.29715 10.1756 6.1891 10.0471 6.00736C9.91857 5.82562 9.88626 5.5928 9.96044 5.38292C10.0157 5.22652 10.0461 5.05755 10.0461 4.88C10.0461 4.04683 9.37074 3.37143 8.53766 3.37143Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="svg-wrapper" data-title="Invite Members"><svg width="23" height="23" class="sb-icon icon-members sb-hover sb-focus"><path d="M7.27093 2.34404C7.7399 2.14979 8.24254 2.0498 8.75015 2.0498C9.25776 2.0498 9.7604 2.14979 10.2294 2.34404C10.6983 2.53829 11.1245 2.82302 11.4834 3.18195C11.8423 3.54088 12.127 3.967 12.3213 4.43597C12.5156 4.90494 12.6155 5.40758 12.6155 5.91519C12.6155 6.4228 12.5156 6.92544 12.3213 7.39441C12.127 7.86338 11.8423 8.28949 11.4834 8.64843C11.1245 9.00736 10.6983 9.29208 10.2294 9.48634C9.7604 9.68059 9.25776 9.78057 8.75015 9.78057C8.24254 9.78057 7.7399 9.68059 7.27093 9.48634C6.80196 9.29209 6.37584 9.00736 6.01691 8.64843C5.65798 8.28949 5.37325 7.86338 5.179 7.39441C4.98475 6.92544 4.88477 6.4228 4.88477 5.91519C4.88477 5.40758 4.98475 4.90494 5.179 4.43597C5.37325 3.967 5.65798 3.54088 6.01691 3.18195C6.37584 2.82302 6.80196 2.53829 7.27093 2.34404ZM8.75015 3.5498C8.43952 3.5498 8.13194 3.61099 7.84496 3.72986C7.55797 3.84873 7.29722 4.02296 7.07757 4.24261C6.85792 4.46226 6.68369 4.72301 6.56482 5.01C6.44595 5.29698 6.38477 5.60456 6.38477 5.91519C6.38477 6.22582 6.44595 6.5334 6.56482 6.82038C6.68369 7.10736 6.85792 7.36812 7.07757 7.58777C7.29722 7.80742 7.55798 7.98165 7.84496 8.10052C8.13194 8.21939 8.43952 8.28057 8.75015 8.28057C9.06078 8.28057 9.36836 8.21939 9.65534 8.10052C9.94232 7.98165 10.2031 7.80742 10.4227 7.58777C10.6424 7.36812 10.8166 7.10736 10.9355 6.82038C11.0544 6.5334 11.1155 6.22582 11.1155 5.91519C11.1155 5.60456 11.0544 5.29698 10.9355 5.01C10.8166 4.72301 10.6424 4.46226 10.4227 4.24261C10.2031 4.02296 9.94233 3.84873 9.65534 3.72986C9.36836 3.61099 9.06078 3.5498 8.75015 3.5498Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path><path d="M8.33935 10.7312C8.3512 10.7307 8.36306 10.7305 8.37491 10.7305H9.12469C9.13838 10.7305 9.15198 10.7308 9.1655 10.7314 9.7888 10.7566 10.4024 10.8595 10.9888 11.0353 11.4913 11.1859 11.4963 11.8685 11.0942 12.2054 10.9063 12.3628 10.6558 12.4142 10.4202 12.3465 9.99646 12.2249 9.55476 12.1529 9.10634 12.1337H8.39335C7.53853 12.1703 6.70811 12.3988 5.97999 12.7977 5.24701 13.1992 4.64204 13.7602 4.22255 14.4273 3.80542 15.0907 3.58548 15.8372 3.58328 16.5965H9.12469L9.12963 16.5965H9.21466C9.47166 16.5965 9.69353 16.7699 9.78802 17.0089 9.96102 17.4465 9.67351 17.9997 9.203 17.9997H9.12509L9.12014 17.9997H2.79163C2.35443 17.9997 2 17.6856 2 17.2981V16.6097C1.9997 15.6068 2.2887 14.6203 2.83955 13.7443 3.39044 12.8682 4.18491 12.1314 5.14751 11.6041 6.1101 11.0767 7.20884 10.7762 8.33935 10.7312zM14.7002 11.5C15.1144 11.5 15.4502 11.8358 15.4502 12.25V14H17.2002C17.6144 14 17.9502 14.3358 17.9502 14.75 17.9502 15.1642 17.6144 15.5 17.2002 15.5H15.4502V17.25C15.4502 17.6642 15.1144 18 14.7002 18 14.286 18 13.9502 17.6642 13.9502 17.25V15.5H12.2002C11.786 15.5 11.4502 15.1642 11.4502 14.75 11.4502 14.3358 11.786 14 12.2002 14H13.9502V12.25C13.9502 11.8358 14.286 11.5 14.7002 11.5z" fill="currentColor"></path></svg></div><div class="svg-wrapper" data-title="Search Everthing"><svg width="23" height="23" class="sb-icon sb-hover sb-focus"><path d="M8.65191 2.37299C6.9706 2.37299 5.35814 3.04089 4.16927 4.22976C2.9804 5.41863 2.3125 7.03108 2.3125 8.7124C2.3125 10.3937 2.9804 12.0062 4.16927 13.195C5.35814 14.3839 6.9706 15.0518 8.65191 15.0518C10.0813 15.0518 11.4609 14.5691 12.5728 13.6939L16.4086 17.5303C16.7014 17.8232 17.1763 17.8232 17.4692 17.5303C17.7621 17.2375 17.7622 16.7626 17.4693 16.4697L13.6334 12.6333C14.5086 11.5214 14.9913 10.1418 14.9913 8.7124C14.9913 7.03108 14.3234 5.41863 13.1346 4.22976C11.9457 3.04089 10.3332 2.37299 8.65191 2.37299ZM12.091 12.1172C12.9878 11.2113 13.4913 9.98783 13.4913 8.7124C13.4913 7.42891 12.9815 6.19798 12.0739 5.29042C11.1663 4.38285 9.9354 3.87299 8.65191 3.87299C7.36842 3.87299 6.1375 4.38285 5.22993 5.29042C4.32237 6.19798 3.8125 7.42891 3.8125 8.7124C3.8125 9.99589 4.32237 11.2268 5.22993 12.1344C6.1375 13.0419 7.36842 13.5518 8.65191 13.5518C9.92736 13.5518 11.1509 13.0483 12.0568 12.1514C12.0623 12.1455 12.0679 12.1397 12.0737 12.134C12.0794 12.1283 12.0851 12.1227 12.091 12.1172Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="svg-wrapper" data-title="Help"><svg width="23" height="23" class="sb-icon sb-hover sb-focus"><path d="M10.4397 3.50655C9.93674 3.47178 9.43392 3.57593 8.98617 3.80762C8.53842 4.03931 8.16298 4.38962 7.90088 4.82027C7.63877 5.25092 7.5001 5.74533 7.5 6.24948C7.49992 6.66369 7.16407 6.99941 6.74986 6.99933C6.33564 6.99925 5.99992 6.6634 6 6.24919C6.00015 5.47006 6.21447 4.70597 6.61954 4.04042C7.02461 3.37487 7.60484 2.83347 8.29681 2.47541C8.98878 2.11734 9.76587 1.95638 10.5431 2.01012C11.3204 2.06386 12.068 2.33024 12.7041 2.78013C13.3402 3.23002 13.8404 3.84611 14.15 4.56107C14.4596 5.27604 14.5667 6.06236 14.4597 6.83409C14.3526 7.60582 14.0354 8.33327 13.5429 8.93693C13.0503 9.54059 12.4012 9.99723 11.6667 10.2569C11.4716 10.3259 11.3028 10.4537 11.1834 10.6226C11.064 10.7916 10.9999 10.9934 11 11.2003V12.3743C11 12.7885 10.6642 13.1243 10.25 13.1243C9.83579 13.1243 9.5 12.7885 9.5 12.3743V11.2011C9.49981 10.684 9.65995 10.1792 9.95838 9.75691C10.2569 9.33453 10.679 9.01513 11.1667 8.84273C11.642 8.67468 12.0619 8.37921 12.3807 7.9886C12.6994 7.598 12.9046 7.1273 12.9739 6.62794C13.0432 6.12858 12.9739 5.61979 12.7735 5.15717C12.5732 4.69454 12.2495 4.29589 11.8379 4.00479C11.4263 3.71368 10.9426 3.54132 10.4397 3.50655ZM10.25 15.1246C10.0151 15.1246 9.78555 15.1942 9.59026 15.3247C9.39498 15.4552 9.24277 15.6406 9.15289 15.8576C9.06301 16.0746 9.0395 16.3134 9.08532 16.5437C9.13114 16.7741 9.24423 16.9857 9.41031 17.1518C9.57639 17.3178 9.78798 17.4309 10.0183 17.4768C10.2487 17.5226 10.4874 17.4991 10.7044 17.4092C10.9214 17.3193 11.1069 17.1671 11.2374 16.9718C11.3679 16.7765 11.4375 16.5469 11.4375 16.3121C11.4375 15.9971 11.3124 15.6951 11.0897 15.4724C10.867 15.2497 10.5649 15.1246 10.25 15.1246Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></div><div class="img-container"><img src="https://ca.slack-edge.com/T02L3AYJGN4-U02RCRLV266-9da9dc85a37f-512"></div></nav>',1);function Ie(t,e,r,d,o,s){return l(),c("section",Me,[a("nav",$e,[a("div",{class:"logo",onClick:e[0]||(e[0]=n=>t.$router.push("/"))},Se),a("div",Te,[xe,a("div",{class:"svg-wrapper","data-title":"My Work",onClick:e[1]||(e[1]=n=>this.$router.push("/my-work"))},De)])]),Be])}var Ue=m(we,[["render",Ie]]),He="/assets/loading.5661863e.svg";const Ae={components:{mainNav:Ue},data(){return{}},created(){this.$store.dispatch("loadApp")},methods:{closeModal(){this.$store.commit({type:"setOpenModal",boolean:!1})}},computed:{isModalOpen(){return this.$store.getters.isModalOpen},isLoading(){return this.$store.getters.isLoading}}},Le={class:"app-container"},Ve={key:0,class:"loadig"},Ee=a("img",{src:He,alt:""},null,-1),Je=[Ee];function Ge(t,e,r,d,o,s){const n=g("main-nav"),i=g("router-view");return l(),c(f,null,[s.isModalOpen?(l(),c("div",{key:0,onClick:e[0]||(e[0]=(...p)=>s.closeModal&&s.closeModal(...p)),class:"modal-background"})):h("",!0),a("section",Le,[_(n),_(i),s.isLoading?(l(),c("div",Ve,Je)):h("",!0)])],64)}var Fe=m(Ae,[["render",Ge]]);const Pe={name:"home-page",computed:{getFirstBoardId(){return this.$store.getters.boards[0]._id}}},je={class:"home-page"},Ze={class:"main-home-page"},We=a("img",{class:"home-page-logo",src:re,alt:""},null,-1),Re=a("h1",null,"Welcome to Funday",-1),Ke=a("h2",null,"Your project management tool",-1),qe=$("Login");function Xe(t,e,r,d,o,s){const n=g("router-link");return l(),c("section",je,[a("div",Ze,[We,Re,Ke,a("button",{onClick:e[0]||(e[0]=i=>t.$router.push(`/boards/${s.getFirstBoardId}`))}," Go to board "),_(n,{class:"white-link",to:"/users/login"},{default:S(()=>[qe]),_:1})])])}var ze=m(Pe,[["render",Xe]]);const z="board-watch",Qe="update-task",Ye="",A=et();window.socketService=A;A.setup();function et(){var t=null;return{async setup(){t=ce(Ye)},on(r,d){t.on(r,d)},off(r,d=null){!t||(d?t.off(r,d):t.removeAllListeners(r))},emit(r,d){t.emit(r,d)},terminate(){t=null}}}function tt(t){console.log("Got Baba:",t)}A.on("baba",tt);A.on("mama",console.log);const st={name:"board-header",props:{boardDetails:Object},emits:["updateBoard"],components:{},data(){return{isDescriptionOpen:!0}},created(){},mounted(){},methods:{starred(){this.$emit("updateBoard","star")},onUpdate(){const t=JSON.parse(JSON.stringify(this.boardDetails));t.title=this.$refs.boardTitle.innerText,t.description=this.$refs.boardDescription.innerText,this.renameBoard=!1,this.isEditDesc=!1,this.$emit("updateBoard",t)}},computed:{descriptionTitle(){return this.isDescriptionOpen?"Hide":"Show"},starTitle(){return this.boardDetails.isStarred?"Remove from":"Add to"}},unmounted(){}},rt={class:"board-header"},ot={class:"up-header"},at={class:"board-name"},nt={class:"editable-header"},it=["data-title"],dt=a("span",null,[a("i",{class:"fa-solid fa-circle-info"})],-1),lt=[dt],ct=["data-title"],ut={key:0,class:"fa-solid fa-star"},pt={key:1,class:"fa-regular fa-star"},mt=F('<div class="board-header-right"><button><p>Board member</p></button><button><i class="fa-solid fa-user-plus"></i>Invite/3 </button><button><i class="fa-solid fa-chart-line"></i>Activity </button><button class="btn"><i class="fa-solid fa-plus"></i><span>Add to board</span></button><button><span><i class="fa-solid fa-ellipsis"></i></span></button></div>',1),gt={class:"description-line"};function ht(t,e,r,d,o,s){return l(),c("header",rt,[a("div",ot,[a("div",at,[a("div",nt,[a("h1",{class:"main-board-title-input",contenteditable:"true",ref:"boardTitle",onBlur:e[0]||(e[0]=(...n)=>s.onUpdate&&s.onUpdate(...n)),onKeyup:e[1]||(e[1]=G((...n)=>s.onUpdate&&s.onUpdate(...n),["enter"]))},y(r.boardDetails.title),545)]),a("div",null,[a("button",{"data-title":s.descriptionTitle+" board description",onClick:e[2]||(e[2]=n=>o.isDescriptionOpen=!o.isDescriptionOpen),class:"info"},lt,8,it),a("button",{"data-title":s.starTitle+" favorites",onClick:e[3]||(e[3]=(...n)=>s.starred&&s.starred(...n)),class:"star"},[a("span",null,[r.boardDetails.isStarred?(l(),c("i",ut)):(l(),c("i",pt))])],8,ct)])]),mt]),a("div",gt,[b(a("span",{contenteditable:"true",ref:"boardDescription",onBlur:e[4]||(e[4]=(...n)=>s.onUpdate&&s.onUpdate(...n)),onKeyup:e[5]||(e[5]=G((...n)=>s.onUpdate&&s.onUpdate(...n),["enter"])),class:"group-description-header text-content"},y(r.boardDetails.description),545),[[I,o.isDescriptionOpen]])])])}var ft=m(st,[["render",ht]]);const vt={name:"board-view-mode",props:{boardId:String}},_t={class:"board-view-mode"},bt=a("i",{class:"fa-solid fa-table-cells"},null,-1),yt=$("Main Table "),Ct=a("i",{class:"fa-solid fa-chart-pie"},null,-1),kt=$("Charts "),wt=a("span",{class:"upsidedwon"},[a("i",{class:"fa-solid fa-chart-simple"})],-1),Mt=$(" Kanban "),$t=a("span",null,"More",-1),Ot=a("i",{class:"fa-solid fa-chevron-down"},null,-1),St=a("div",{class:"spacer"},null,-1);function Tt(t,e,r,d,o,s){const n=g("router-link");return l(),c("section",_t,[_(n,{to:"/boards/"+r.boardId},{default:S(()=>[bt,yt]),_:1},8,["to"]),_(n,{to:"/boards/"+r.boardId+"/chart"},{default:S(()=>[Ct,kt]),_:1},8,["to"]),_(n,{to:"/"+r.boardId},{default:S(()=>[wt,Mt]),_:1},8,["to"]),_(n,{to:"/"+r.boardId},{default:S(()=>[$t,Ot]),_:1},8,["to"]),St])}var xt=m(vt,[["render",Tt]]);const Nt={name:"filterBar",props:{board:Object},data(){return{filterBy:{txt:"",member:""},openSearching:!1,openPersonModal:!1,openItemModal:!1}},components:{},methods:{search(){const t=JSON.parse(JSON.stringify(this.filterBy));this.$store.commit({type:"onSetFilter",filterBy:t})},clearSearchMember(){this.filterBy.member="",this.search()},addGroup(){this.$store.dispatch({type:"saveGroup"}),this.openItemModal=!1},addNewItem(){this.$store.dispatch("addItem")}},computed:{isSearching(){return!!this.filterBy.txt},currMember(){if(this.filterBy.member)return this.board.members.find(t=>t._id===this.filterBy.member)}}},Dt={class:"filter-bar"},Bt={class:"new-item-btn-container"},It={class:"relative"},Ut=a("i",{class:"fa-solid fa-chevron-down"},null,-1),Ht=[Ut],At={key:0,class:"context-modal item-modal"},Lt={class:"search"},Vt=a("i",{class:"fa-solid fa-magnifying-glass"},null,-1),Et=$("Search "),Jt=[Vt,Et],Gt={key:1},Ft={class:"relative"},Pt=["src"],jt=$(" Persons "),Zt=a("i",{class:"fa-solid fa-circle-xmark"},null,-1),Wt=a("i",{class:"fa-solid fa-circle-user"},null,-1),Rt=$("Person "),Kt=[Wt,Rt],qt=a("h2",null,"Quick person filter",-1),Xt=a("div",{class:"spacer"},null,-1),zt={class:"flex members"},Qt=["value","onUpdate:modelValue"],Yt=["src"],es=a("button",null,[a("i",{class:"fa-solid fa-filter"}),$("Filter ")],-1),ts=a("button",null,"Sort",-1);function ss(t,e,r,d,o,s){var n;return l(),c("section",Dt,[a("div",Bt,[a("button",{class:"new-item-btn new-item",onClick:e[0]||(e[0]=(...i)=>s.addNewItem&&s.addNewItem(...i))}," New Item "),a("div",It,[a("button",{class:"new-item-btn chevron",onClick:e[1]||(e[1]=i=>o.openItemModal=!o.openItemModal)},Ht),o.openItemModal?(l(),c("section",At,[a("button",{onClick:e[2]||(e[2]=(...i)=>s.addGroup&&s.addGroup(...i))}," New group of Items ")])):h("",!0)])]),a("div",Lt,[o.openSearching?(l(),c("div",Gt,[b(a("input",{class:"search-input",onInput:e[4]||(e[4]=(...i)=>s.search&&s.search(...i)),onBlur:e[5]||(e[5]=i=>o.openSearching=!1),"onUpdate:modelValue":e[6]||(e[6]=i=>o.filterBy.txt=i),placeholder:"Search",type:"text"},null,544),[[T,o.filterBy.txt]])])):(l(),c("button",{key:0,onClick:e[3]||(e[3]=i=>o.openSearching=!0)},Jt))]),a("div",Ft,[o.filterBy.member?(l(),c("button",{key:0,class:"search-btn",onClick:e[7]||(e[7]=(...i)=>s.clearSearchMember&&s.clearSearchMember(...i))},[a("img",{src:s.currMember.imgUrl},null,8,Pt),jt,Zt])):(l(),c("button",{key:1,onClick:e[8]||(e[8]=i=>o.openPersonModal=!o.openPersonModal)},Kt)),o.openPersonModal?(l(),c("section",{key:2,class:"context-modal",tabindex:"0",onBlur:e[10]||(e[10]=i=>o.openPersonModal=!1)},[qt,Xt,a("div",zt,[(l(!0),c(f,null,C((n=r.board)==null?void 0:n.members,i=>(l(),c("label",{key:i},[b(a("input",{onChange:e[9]||(e[9]=(...p)=>s.search&&s.search(...p)),type:"radio",value:i._id,"onUpdate:modelValue":p=>o.filterBy.member=p,hidden:""},null,40,Qt),[[ue,o.filterBy.member]]),a("img",{src:i.imgUrl,class:U({active:o.filterBy.member===i._id})},null,10,Yt)]))),128))])],32)):h("",!0)]),es,ts])}var rs=m(Nt,[["render",ss]]);const B={makeId:os,debounce:is,getRandomInt:oe,getRandomColor:ns,getLoremIpsum:as,loadFromStorage:ds,saveToStorage:ls,loadFromSessionStorage:cs,saveToSessionStorage:us};function os(t=5){var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let d=0;d<t;d++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function oe(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function as(t=5){const e=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"];let r="";for(;t>0;)r+=e[oe(0,e.length-1)]+" ",t--;return r.trim()}function ns(){for(var t="#",e=0;e<6;e++)t+=Math.floor(Math.random()*10);return t}function is(t,e){let r;return function(...o){const s=()=>{clearTimeout(r),t(...o)};clearTimeout(r),r=setTimeout(s,e)}}function ds(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null}function ls(t,e){localStorage[t]=JSON.stringify(e)}function cs(t){var e=sessionStorage.getItem(t);return e?JSON.parse(e):null}function us(t,e){sessionStorage[t]=JSON.stringify(e)}const ps="/api/";var ms=Y.create({withCredentials:!0});const L={get(t,e){return Z(t,"GET",e)},post(t,e){return Z(t,"POST",e)},put(t,e){return Z(t,"PUT",e)},delete(t,e){return Z(t,"DELETE",e)}};async function Z(t,e="GET",r=null){try{return(await ms({url:`${ps}${t}`,method:e,data:r,params:e==="GET"?r:null})).data}catch(d){throw console.log(`Had Issues ${e}ing to the backend, endpoint: ${t}, with data:`,r),console.dir(d),d.response&&d.response.status,d}}const W={login:gs,logout:hs,signup:fs,getLoggedinUser:vs},q="auth";async function gs(t){const e=await L.post(`${q}/login`,t);return B.saveToSessionStorage("loggedinUser",e),e}async function hs(){return console.log("logging out"),await L.post(`${q}/logout`),console.log("logged out"),B.saveToSessionStorage("loggedinUser",""),null}async function fs(t){console.log(t);const e=await L.post(`${q}/signup`,t);return console.log("signed up"),e}function vs(){return B.loadFromSessionStorage("loggedinUser")}var X={getLoggedinUser:ae};const Q="loggedinUser",_s={username:"shali",password:"123"};ae();function ae(){var t=JSON.parse(sessionStorage.getItem(Q));return t||W.login(_s),JSON.parse(sessionStorage.getItem(Q))}var k={query:ne,getById:ie,saveTask:Ms,getEmptyTask:J,saveBoard:V,removeBoard:bs,saveTasksOrder:$s,getEmptyGroup:K,saveGroup:Cs,removeTask:Os,removeGroup:ks,getEmptyBoard:ys,getTaskById:ws,addUpdate:Ss};const j="board/";async function ne(t=null){try{return await L.get(j)}catch(e){throw console.log("boardService: could not load boards"),e}}async function ie(t){try{return await L.get(j+t)}catch(e){throw console.log("getById err",e),e}}async function V(t){try{return t._id?await L.put(j+t._id,t):await L.post(j,t)}catch(e){throw console.log("save err",e),e}}async function bs(t){try{return await L.delete(j+t)}catch(e){throw console.log("remove err",e),e}}function ys(t){return{title:t||"New Board",description:"",createdAt:"",isStarred:!1,createdBy:{_id:"u104",fullname:"Someone",imgUrl:"https://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"},cmpsOrder:[{cmpName:"title-picker",preName:""},{cmpName:"member-picker",preName:"People"},{cmpName:"priority-picker",preName:"Priority"},{cmpName:"status-picker",preName:"Status"},{cmpName:"timeline-picker",preName:"Timeline"},{cmpName:"tag-picker",preName:"Tags"},{cmpName:"file-picker",preName:"Files"}],style:{view:"table"},members:[{_id:"u104",fullname:"Someone",imgUrl:"https://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}],labels:{status:[{id:"s001",txt:"Done",color:"#00c875"},{id:"s002",txt:"Working on it",color:"#fdab3d"},{id:"s003",txt:"Stuck",color:"#e2445c"},{id:"s000",txt:"",color:"#c4c4c4"}],priority:[{id:"p001",txt:"High",color:"#e2445c"},{id:"p002",txt:"Medium",color:"#f9a0f0"},{id:"p003",txt:"Low",color:"#00c875"},{id:"p000",txt:"",color:"#c4c4c4"}]},groups:[K("g101","Group Title",[J("Item 1","t101",[{_id:"u104",fullname:"Someone",imgUrl:"https://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}],"s002"),J("Item 2","t102",[],"s001"),J("Item 3","t103")]),K("g102","Group Title",[J("Item 4","t104"),J("Item 5","t105")])]}}function Cs(t,e){if(!t.id)t.id=B.makeId(),e.groups.unshift(t);else{const r=e.groups.findIndex(d=>d.id===t.id);e.groups.splice(r,1,t)}return V(e)}function ks(t,e){const r=e.groups.findIndex(d=>d.id===t);return e.groups.splice(r,1),V(e)}function K(t,e,r){return{id:t||null,title:e||"New Group",style:{color:B.getRandomColor()},tasks:r||[]}}async function ws(t,e,r){return(await ne()).find(i=>i._id===t).groups.find(i=>i.id===e).tasks.find(i=>i.id===r)}async function Ms(t,e,r){const d=t.groups.findIndex(o=>o.id===e);try{if(r.id){const o=t.groups[d].tasks.findIndex(s=>s.id===r.id);return t.groups[d].tasks[o]=r,V(t)}else return r.createdAt=Date.now(),r.id=B.makeId(8),r.byMember=X.getLoggedinUser(),console.log("taskToSave",r),t.groups[d].tasks.push(r),await V(t),r}catch(o){console.log("Boardservice: could not save task",o)}}async function $s(t,e,r){try{return t.groups[e].tasks=r,V(t)}catch{console.log("Boardservice: could not save tasksOrder")}}async function Os(t,e,r){try{return t.groups[e].tasks.splice(r,1),V(t)}catch{console.log("Boardservice: could not save tasksOrder")}}async function Ss(t,e,r,d){const{_id:o,fullname:s,imgUrl:n}=X.getLoggedinUser(),i={id:B.makeId(8),txt:t,createdAt:Date.now(),byMember:{_id:o,fullname:s,imgUrl:n}},p=await ie(r);return p.groups.find(w=>w.id===d).tasks.find(w=>w.id===e).updates.unshift(i),await V(p),i}function J(t,e,r,d){return{id:e||null,title:t||"",createdAt:"",byMember:{},status:d||"s000",priority:"p000",dueDate:"",timeline:{start:"",end:""},tags:[],files:[],updates:[],members:r||[]}}const Ts={name:"context-modal",props:{},emits:["openNewTab","remove","starred","renameBoard","duplicate"],components:{},data(){return{}},created(){},mounted(){},methods:{remove(){this.$emit("remove")},openNewTab(){this.$emit("openNewTab")},renameBoard(){this.$emit("renameBoard")},starred(){this.$emit("starred")},duplicate(){this.$emit("duplicate")}},computed:{},unmounted(){}},xs={class:"context-modal"};function Ns(t,e,r,d,o,s){return l(),c("section",xs,[a("button",{onClick:e[0]||(e[0]=(...n)=>s.openNewTab&&s.openNewTab(...n))},"Open Board in New Tab"),a("button",{onClick:e[1]||(e[1]=(...n)=>s.renameBoard&&s.renameBoard(...n))},"Rename Board"),a("button",{onClick:e[2]||(e[2]=(...n)=>s.starred&&s.starred(...n))},"Add to favorites"),a("button",{onClick:e[3]||(e[3]=(...n)=>s.duplicate&&s.duplicate(...n))},"Duplicate Board"),a("button",{onClick:e[4]||(e[4]=(...n)=>s.remove&&s.remove(...n))},"Delete")])}var Ds=m(Ts,[["render",Ns]]);const Bs={name:"board-preview",props:{board:Object},emits:[],components:{contextModal:Ds},data(){return{isHover:!1,openModal:!1,changeName:!1,newTitle:""}},created(){document.title=this.board.title},mounted(){},methods:{remove(){this.$store.dispatch({type:"removeBoard",boardId:this.board._id}),this.openModal=!1},openNewTab(){window.open(window.location.origin+`/#/boards/${this.board._id}`),this.openModal=!1},renameBoard(){this.newTitle=this.board.title,this.changeName=!0,this.openModal=!1},updateBoard(){const t=JSON.parse(JSON.stringify(this.board));t.title=this.newTitle,this.$store.dispatch({type:"saveBoard",board:t}),this.changeName=!1,this.openModal=!1},starred(){const t=JSON.parse(JSON.stringify(this.board));t.isStarred=!t.isStarred,this.$store.dispatch({type:"saveBoard",board:t}),this.openModal=!1},duplicate(){const t=JSON.parse(JSON.stringify(this.board));t.title=t.title+" -copy",t._id=null,this.$store.dispatch({type:"saveBoard",board:t}),this.openModal=!1},selectBoard(){this.$router.push(`/boards/${this.board._id}`),this.board._id;const t=this.$store.getters.boards.findIndex(e=>e._id===this.board._id);document.title=this.$store.getters.boards[t].title}},computed:{},unmounted(){}},Is={key:0},Us=a("i",{class:"fa-solid fa-ellipsis"},null,-1),Hs=[Us],As={class:"relative"};function Ls(t,e,r,d,o,s){const n=g("context-modal");return l(),c(f,null,[r.board?(l(),c("li",{key:0,class:"board-preview",onMouseover:e[5]||(e[5]=i=>o.isHover=!0),onMouseleave:e[6]||(e[6]=i=>o.isHover=!1)},[o.changeName?(l(),c("label",Is,[b(a("input",{onKeyup:e[0]||(e[0]=G((...i)=>s.updateBoard&&s.updateBoard(...i),["enter"])),onBlur:e[1]||(e[1]=(...i)=>s.updateBoard&&s.updateBoard(...i)),type:"text","onUpdate:modelValue":e[2]||(e[2]=i=>o.newTitle=i),autofocus:"",class:"change-name-input"},null,544),[[T,o.newTitle]])])):(l(),c("div",{key:1,class:"bord-title",onClick:e[4]||(e[4]=(...i)=>s.selectBoard&&s.selectBoard(...i))},[a("span",null,y(r.board.title),1),o.isHover||o.openModal?(l(),c("button",{key:0,onClick:e[3]||(e[3]=H(i=>o.openModal=!o.openModal,["stop"]))},Hs)):h("",!0)]))],32)):h("",!0),a("div",As,[o.openModal?(l(),M(n,{key:0,onRemove:s.remove,onOpenNewTab:s.openNewTab,onRenameBoard:s.renameBoard,onStarred:s.starred,onDuplicate:s.duplicate},null,8,["onRemove","onOpenNewTab","onRenameBoard","onStarred","onDuplicate"])):h("",!0)])],64)}var Vs=m(Bs,[["render",Ls]]);const Es={name:"board-nav",props:{boards:Object},emits:[],data(){return{isNavOpen:!0,newBoard:null}},components:{boardPreview:Vs},methods:{toggleNav(){this.isNavOpen=!this.isNavOpen},cearteBoard(){this.newBoard=k.getEmptyBoard(),this.$store.commit({type:"setOpenModal",boolean:!0})},closeModal(){this.$store.commit({type:"setOpenModal",boolean:!1})},saveBoard(){this.$store.dispatch({type:"saveBoard",board:this.newBoard}),this.$store.commit({type:"setOpenModal",boolean:!1}),this.boardTitle="New Board"}},computed:{isModalOpen(){return this.$store.getters.isModalOpen}}},Js={class:"add-board"},Gs={key:0,class:"cearte-board-modal context-modal"},Fs=a("h1",{class:"title"},"Create board",-1),Ps={class:"input-wrapper"},js=a("span",{class:"lable"},"Board name",-1),Zs={class:"btn-container"},Ws={key:0,class:"board-nav"},Rs=F('<span class="title">Workspace</span><div class="workspace-dropdwon"><div class="workspace-title"><div class="connected-user">M</div><div class="main-workspace-title"> Main workspace </div></div><i class="fa-solid fa-chevron-down"></i></div>',2),Ks=a("i",{class:"fa-solid fa-plus"},null,-1),qs=$("Add "),Xs=[Ks,qs],zs=a("li",null,[a("button",{class:"main-nav-btn"},[a("i",{class:"fa-solid fa-filter"}),$("Filters ")])],-1),Qs=a("li",null,[a("button",{class:"main-nav-btn"},[a("i",{class:"fa-solid fa-magnifying-glass"}),$("Search ")])],-1),Ys=a("div",{class:"spacer"},null,-1),er=a("div",{class:"curr-workspace"},null,-1);function tr(t,e,r,d,o,s){const n=g("board-preview");return l(),c(f,null,[a("section",Js,[s.isModalOpen?(l(),c("div",Gs,[a("button",{class:"close",onClick:e[0]||(e[0]=(...i)=>s.closeModal&&s.closeModal(...i))},"X"),Fs,a("label",Ps,[js,b(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>o.newBoard.title=i),autofocus:""},null,512),[[T,o.newBoard.title]])]),a("div",Zs,[a("button",{onClick:e[2]||(e[2]=(...i)=>s.closeModal&&s.closeModal(...i))},"Cancel"),a("button",{class:"save",onClick:e[3]||(e[3]=(...i)=>s.saveBoard&&s.saveBoard(...i))}," Create Board ")])])):h("",!0)]),o.isNavOpen?(l(),c("section",Ws,[Rs,a("ul",null,[a("li",null,[a("button",{onClick:e[4]||(e[4]=(...i)=>s.cearteBoard&&s.cearteBoard(...i)),class:"main-nav-btn"},Xs)]),zs,Qs]),Ys,er,a("ul",null,[(l(!0),c(f,null,C(r.boards,i=>(l(),M(n,{key:i._id,board:i},null,8,["board"]))),128))])])):h("",!0)],64)}var sr=m(Es,[["render",tr]]);const rr={name:"board-app",components:{boardHeader:ft,boardNav:sr,boardViewMode:xt,filterBar:rs},emits:[],computed:{},created(){A.on("task-updated",({groupId:t,task:e})=>this.$store.commit({type:"updateTask",groupId:t,updatedTask:e}))},data(){return{isOpen:!0}},methods:{changeModalStatus(){this.isOpen=!this.isOpen},setBoard(t){this.$store.commit({type:"loadBoard",id:t}),A.emit(z,this.id)},updateBoard(t){const e=JSON.parse(JSON.stringify(this.$store.getters.board));t==="star"?e.isStarred=!e.isStarred:(t.title&&(e.title=t.title),t.description&&(e.description=t.description)),this.$store.dispatch({type:"saveBoard",board:e})}},computed:{board(){return this.$store.getters.board},boards(){return this.$store.getters.boards},id(){return this.$route.params.id},isLoading(){return this.$store.getters.isLoading}},watch:{id:{handler(){this.$store.dispatch({type:"loadBoard",id:this.id}),A.emit(z,this.id)},immediate:!0}}},or={class:"open-side-bar"},ar=a("i",{class:"fa-solid fa-angle-left"},null,-1),nr=[ar],ir={class:"board-app-container"},dr={class:"board-app"},lr={class:"bord-header-wrapper"};function cr(t,e,r,d,o,s){var w,N,u,v;const n=g("board-nav"),i=g("board-header"),p=g("board-view-mode"),D=g("filter-bar"),x=g("router-view");return l(),c(f,null,[a("div",or,[a("div",{onClick:e[0]||(e[0]=(...E)=>s.changeModalStatus&&s.changeModalStatus(...E)),class:U(["open-nav-btn",{open:o.isOpen,close:!o.isOpen}])},nr,2),a("div",{class:U(["board-navi",{open:o.isOpen,close:!o.isOpen}])},[o.isOpen?(l(),M(n,{key:0,boards:s.boards},null,8,["boards"])):h("",!0)],2)]),a("div",ir,[a("section",dr,[a("div",lr,[_(i,{boardDetails:{title:(w=s.board)==null?void 0:w.title,description:(N=s.board)==null?void 0:N.description,isStarred:(u=s.board)==null?void 0:u.isStarred},onUpdateBoard:s.updateBoard},null,8,["boardDetails","onUpdateBoard"]),_(p,{boardId:(v=s.board)==null?void 0:v._id},null,8,["boardId"]),_(D,{board:s.board},null,8,["board"])]),s.isLoading?h("",!0):(l(),M(x,{key:0,board:s.board},null,8,["board"]))])])],64)}var ur=m(rr,[["render",cr]]);const pr=async t=>{const e="misterToy",d="https://api.cloudinary.com/v1_1/mistertoysss/image/upload",o=new FormData;o.append("file",t),o.append("upload_preset",e);try{const s=await Y.post(d,o);return console.log(s.data.url),s.data}catch(s){console.error("ERROR!",s)}},mr={name:"file-picker",data(){return{isHover:!1,val:null}},methods:{mouseOver(){this.isHover=!0},mouseLeave(){this.isHover=!1},handleFile(t){let e;t.type==="change"?e=t.target.files[0]:t.type==="drop"&&(e=t.dataTransfer.files[0]),console.log("ev",t),this.onUploadFile(e)},async onUploadFile(t){console.log(t);const e=await pr(t);console.log(e)}}},gr={key:0,class:"btn"};function hr(t,e,r,d,o,s){const n=g("fa");return l(),c("div",{onMouseover:e[1]||(e[1]=(...i)=>s.mouseOver&&s.mouseOver(...i)),onMouseleave:e[2]||(e[2]=(...i)=>s.mouseLeave&&s.mouseLeave(...i)),class:"filer-picker"},[o.isHover?(l(),c("label",gr,[_(n,{icon:"circle-plus"}),a("input",{type:"file",onChange:e[0]||(e[0]=(...i)=>s.handleFile&&s.handleFile(...i)),hidden:""},null,32)])):h("",!0)],32)}var fr=m(mr,[["render",hr]]);const vr={name:"member-picker",props:{task:Object},data(){return{addMembersMode:!1,filterBy:"",isHover:!1}},computed:{membersLength(){return this.task.members.length},firstMemberPic(){return this.task.members[0].imgUrl},members(){return this.task.members},membersList(){var t=this.$store.getters.board.members;const e=new RegExp(this.filterBy,"i");return t=t.filter(r=>e.test(r.fullname)),t}},methods:{openModal(){this.addMembersMode=!0,document.body.addEventListener("click",this.isClosingModal)},closeModal(){this.addMembersMode=!1,document.body.removeEventListener("click",this.isClosingModal)},isClosingModal(t){t.stopPropagation(),this.$refs.memberPickerModal.contains(t.target)||this.closeModal()},addMember(t){const e=JSON.parse(JSON.stringify(this.task.members));e.push(JSON.parse(JSON.stringify(t))),this.$emit("update",{cmpType:"member-picker",members:e,task:this.task}),this.addMembersMode=!this.addMembersMode}}},_r={key:0},br=["src","alt","data-title"],yr={key:1},Cr=["src"],kr={class:"small-number"},wr={ref:"memberPickerModal",class:"context-modal"},Mr=a("div",{class:"test"},[a("span",{class:"people"},"People")],-1),$r=["src"],Or=["onClick"];function Sr(t,e,r,d,o,s){const n=g("fa");return l(),c("div",{class:"member-picker",onMouseover:e[1]||(e[1]=i=>o.isHover=!0),onMouseleave:e[2]||(e[2]=i=>o.isHover=!1)},[s.membersLength<3?(l(),c("div",_r,[(l(!0),c(f,null,C(s.members,i=>(l(),c("img",{src:i.imgUrl,key:i._id,alt:i.fullname,"data-title":i.fullname},null,8,br))),128))])):(l(),c("div",yr,[a("img",{src:s.firstMemberPic},null,8,Cr),a("div",kr,"+"+y(s.membersLength-1),1)])),o.isHover?(l(),M(n,{key:2,icon:"circle-plus",class:"add-member-btn",onClick:H(s.openModal,["stop"])},null,8,["onClick"])):h("",!0),b(a("div",wr,[(l(!0),c(f,null,C(s.members,i=>(l(),c("div",{class:"small-name-preview",key:i.id}))),128)),a("label",null,[b(a("input",{type:"text",placeholder:"Enter name","onUpdate:modelValue":e[0]||(e[0]=i=>o.filterBy=i)},null,512),[[T,o.filterBy]])]),Mr,(l(!0),c(f,null,C(s.membersList,i=>(l(),c("span",{class:"member-preview flex",key:i},[a("img",{src:i.imgUrl},null,8,$r),a("span",{onClick:H(p=>s.addMember(i),["stop"])},y(i.fullname),9,Or)]))),128))],512),[[I,o.addMembersMode]])],32)}var Tr=m(vr,[["render",Sr]]);const xr={name:"drop-down",props:{labels:Array,type:String},mounted(){this.$refs.dropDown.focus()},methods:{updateTask(t){this.$emit("update",t)},addLabel(){console.log(this.type),this.$emit("labelAdded",val)}},computed:{}},Nr={class:"dots active"},Dr=a("div",{class:"container cut"},[a("div",{class:"drop cut2"})],-1),Br={class:"list"},Ir=["onClick"],Ur=a("div",{class:"cursor"},null,-1);function Hr(t,e,r,d,o,s){return l(),c("div",{class:"drop-down",ref:"dropDown",tabindex:"-1",onBlur:e[0]||(e[0]=n=>t.$emit("closeModal"))},[a("div",Nr,[Dr,a("div",Br,[a("ul",null,[(l(!0),c(f,null,C(r.labels,n=>(l(),c("li",{key:n.id,onClick:H(i=>s.updateTask(n.id),["stop"]),style:O({"background-color":n.color})},y(n.txt),13,Ir))),128))])])]),Ur],544)}var de=m(xr,[["render",Hr]]);const Ar={components:{dropDown:de},name:"status-picker",props:{task:Object},data(){var t;return{isDropOpen:!1,statuses:(t=this.$store.getters.board)==null?void 0:t.labels.status,isAchieved:!1}},methods:{updateTask(t){this.isDropOpen=!1,t==="s001"&&(this.isAchieved=!0,setTimeout(()=>this.isAchieved=!1,2e3)),this.$emit("update",{cmpType:"status-picker",val:t,task:this.task})},toggleModal(){this.isDropOpen=!this.isDropOpen}},computed:{txt(){var r;const{status:t}=(r=this.$store.getters.board)==null?void 0:r.labels;return(t==null?void 0:t.find(d=>d.id===this.task.status)).txt},style(){var r;const{status:t}=(r=this.$store.getters.board)==null?void 0:r.labels;return{backgroundColor:(t==null?void 0:t.find(d=>d.id===this.task.status)).color,color:"white"}}}},Lr={class:"wrapper"},Vr={key:0,class:"confetti",src:"https://sunday-app-pro.herokuapp.com/img/done.900c9a2e.gif"},Er={key:0,class:"relative"};function Jr(t,e,r,d,o,s){const n=g("drop-down");return l(),c("div",Lr,[a("div",{class:"status-picker-col status relative",style:O(s.style),onClick:e[0]||(e[0]=(...i)=>s.toggleModal&&s.toggleModal(...i))},[o.isAchieved?(l(),c("img",Vr)):h("",!0),a("p",null,y(s.txt),1)],4),o.isDropOpen?(l(),c("div",Er,[_(n,{labels:o.statuses,onUpdate:s.updateTask,onCloseModal:e[1]||(e[1]=i=>o.isDropOpen=!1),type:"status"},null,8,["labels","onUpdate"])])):h("",!0)])}var Gr=m(Ar,[["render",Jr]]);const Fr={name:"tag-picker",props:{task:Object,groupId:String},data(){return{isModalOpen:!1,isHoverATag:!1,filterBy:{txt:""},newTag:""}},computed:{boardTags(){return JSON.parse(JSON.stringify(this.$store.getters.boardData.boardMapByGroups)).reduce((r,d)=>(d.tags.forEach(o=>{r.some(s=>s.txt===s)||r.push(o)}),r),[])},tags(){var t=this.boardTags;if(this.filterBy.txt){const e=new RegExp(this.filterBy.txt,"i");t=t.filter(r=>e.test(r.txt))}else return t.length>5?t.slice(0,5):t;return t.length>5?t.slice(0,5):t}},methods:{addNewTag(){!this.newTag||(this.$emit("update",{cmpType:"tag-picker",val:this.newTag,task:this.task}),this.isModalOpen=!1)},filterTags(){this.filterBy.txt=this.newTag},addTag(t){this.$emit("update",{cmpType:"tag-picker",val:t,task:this.task}),this.isModalOpen=!1},toggleHoverTag(t=null){this.isHoverATag=t},openModal(){this.isModalOpen=!0,console.log("this.isModalOpen",this.isModalOpen),document.body.addEventListener("click",this.isClosingModal)},closeModal(){this.isModalOpen=!1,document.body.removeEventListener("click",this.isClosingModal)},isClosingModal(t){t.stopPropagation(),console.log("e, this.$refs.tagModal",t,this.$refs.tagModal),console.log("!this.$refs.tagModal.contains(e.target)",!this.$refs.tagModal.contains(t.target)),this.$refs.tagModal.contains(t.target)||this.closeModal()}}},Pr={class:"tag-picker"},jr={ref:"tagModal",class:"tag-modal"},Zr={class:"add-tags"},Wr={class:"tag-search-list"},Rr=["onClick","onMouseover"];function Kr(t,e,r,d,o,s){const n=g("fa");return l(),c("section",Pr,[a("div",{onClick:e[0]||(e[0]=H((...i)=>s.openModal&&s.openModal(...i),["stop"])),class:"add-tag"},[_(n,{icon:"circle-plus"})]),(l(!0),c(f,null,C(r.task.tags,i=>(l(),c("div",{onClick:e[1]||(e[1]=H((...p)=>s.openModal&&s.openModal(...p),["stop"])),key:i,class:"tag-picker-val",style:O({color:i.color})}," #"+y(i.txt),5))),128)),b(a("div",jr,[a("div",Zr,[b(a("input",{type:"text",placeholder:"Add tags",onInput:e[2]||(e[2]=(...i)=>s.filterTags&&s.filterTags(...i)),"onUpdate:modelValue":e[3]||(e[3]=i=>o.newTag=i)},null,544),[[T,o.newTag]])]),a("ul",Wr,[(l(!0),c(f,null,C(s.tags,i=>(l(),c("li",{key:i.txt,onClick:p=>s.addTag(i.txt),class:"tag-search-item",onMouseover:p=>s.toggleHoverTag(i.txt),onMouseleave:e[4]||(e[4]=p=>s.toggleHoverTag()),style:O({color:o.isHoverATag===i.txt?"white":i.color})}," #"+y(i.txt),45,Rr))),128))]),a("button",{onClick:e[5]||(e[5]=(...i)=>s.addNewTag&&s.addNewTag(...i)),class:"btn"},"+ Create new tag")],512),[[I,o.isModalOpen]])])}var qr=m(Fr,[["render",Kr]]);const Xr={name:"timeline-picker",props:{task:Object,groupId:String},data(){return{range:"",isHovering:!1,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},methods:{setTimeline(){const t={start:this.range[0].getTime(),end:this.range[1].getTime()};t.start>t.end||(this.range="",this.$emit("update",{cmpType:"timeline-picker",timeline:t,task:this.task}))},toggleContent(){this.isHovering=!this.isHovering},getTime(t,e){t=new Date(t),e=new Date(e);var r=t.getMonth(),d=e.getMonth(),o=t.getDate(),s=e.getDate();return{startMonth:r,endMonth:d,startDay:o,endDay:s}},calcTimeProgress(t,e){const d=Date.now()-t,o=e-t;return o<1e3*60*60*24&&o>0?progress:o===0?100:d/o*100}},computed:{content(){var r,d;var t=(r=this.task)==null?void 0:r.timeline.start,e=(d=this.task)==null?void 0:d.timeline.end;if(this.isHovering){const o=e-t;return o?`${(o/(1e3*60*60*24)).toFixed(0)}d`:"Set Dates"}else{if(!t&&!e)return"-";const{startMonth:o,endMonth:s,startDay:n,endDay:i}=this.getTime(t,e);return o===s?`${this.monthNames[o]} ${n} - ${i}`:`${this.monthNames[o]} ${n} - ${this.monthNames[s]} ${i}`}},labelColor(){var o,s,n;const t=(o=this.$store.getters.board)==null?void 0:o.groups.find(i=>i.id===this.groupId);var e=(s=this.task)==null?void 0:s.timeline.start,r=(n=this.task)==null?void 0:n.timeline.end;if(!e&&!r)return{"background-color":"#ababab"};const d=this.calcTimeProgress(e,r);return t!=null&&t.style?{background:`linear-gradient(to right, ${t==null?void 0:t.style.color} ${d}%, #333 ${d}%`}:{"background-color":"#333"}}}},zr={class:"timeline-picker"};function Qr(t,e,r,d,o,s){const n=g("el-date-picker");return l(),c("div",zr,[a("label",{onMouseover:e[1]||(e[1]=(...i)=>s.toggleContent&&s.toggleContent(...i)),onMouseleave:e[2]||(e[2]=(...i)=>s.toggleContent&&s.toggleContent(...i)),class:"timeline",style:O(s.labelColor)},[$(y(s.content)+" ",1),_(n,{class:"datepicker-container",modelValue:o.range,"onUpdate:modelValue":e[0]||(e[0]=i=>o.range=i),onChange:s.setTimeline,type:"daterange"},null,8,["modelValue","onChange"])],36)])}var Yr=m(Xr,[["render",Qr]]);const eo={components:{dropDown:de},name:"priority-picker",props:{task:Object,groupId:String},data(){return{isDropOpen:!1,priorities:this.$store.getters.board.labels.priority}},methods:{updateTask(t){this.isDropOpen=!1,this.$emit("update",{cmpType:"priority-picker",val:t,task:this.task})},toggleDropDown(){this.isDropOpen=!this.isDropOpen}},computed:{txt(){var r;const{priority:t}=(r=this.$store.getters.board)==null?void 0:r.labels;return(t==null?void 0:t.find(d=>d.id===this.task.priority)).txt},getStyle(){var d;const{priority:t}=(d=this.$store.getters.board)==null?void 0:d.labels,e=t==null?void 0:t.find(o=>o.id===this.task.priority);return{backgroundColor:e==null?void 0:e.color,color:"white"}}}},to={class:"wrapper"},so={key:0,class:"relative"};function ro(t,e,r,d,o,s){const n=g("drop-down");return l(),c("div",to,[a("div",{style:O(s.getStyle),class:"priority-picker-col priority relative",onClick:e[0]||(e[0]=(...i)=>s.toggleDropDown&&s.toggleDropDown(...i))},y(s.txt),5),o.isDropOpen?(l(),c("div",so,[_(n,{labels:o.priorities,onUpdate:s.updateTask,onCloseModal:e[1]||(e[1]=i=>o.isDropOpen=!1),type:"status"},null,8,["labels","onUpdate"])])):h("",!0)])}var oo=m(eo,[["render",ro]]);const ao={name:"title-picker",props:{task:Object,groupId:String,isHover:Boolean,boardId:String},data(){return{isEditing:!1,title:"",hoverEdit:!1,hover:!1,openModal:!1}},created(){this.title=this.task.title},computed:{labelColor(){var t;return(t=this.$store.getters.board)==null?void 0:t.groups.find(e=>e.id===this.groupId)}},methods:{toggleEditTask(){this.isEditing=!this.isEditing,setTimeout(()=>this.$refs.input.focus(),0)},saveTitle(){this.isEditing=!1,this.$emit("update",{cmpType:"title-picker",title:this.title,task:this.task})},deleteTask(t,e){this.$store.dispatch({type:"removeTask",groupId:t,taskId:e})}}},no={key:0,class:"open-context-btn"},io=a("i",{class:"fa-solid fa-caret-down"},null,-1),lo=[io],co={key:1,class:"context-modal"},uo=a("i",{class:"fa-regular fa-trash-can"},null,-1),po=$("Delete "),mo=[uo,po],go={class:"editable-component"},ho={class:"edit-title"},fo={class:"task-title"},vo=a("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:"24",height:"24","aria-hidden":"true",class:"icon_component chat-without-update icon_component--no-focus-style"},[a("path",{d:"M10.4339 1.94996C11.5976 1.94797 12.7458 2.21616 13.7882 2.7334C14.8309 3.25083 15.7393 4.00335 16.4416 4.93167C17.144 5.85999 17.6211 6.93874 17.8355 8.08291C18.0498 9.22707 17.9956 10.4054 17.6769 11.525C17.3583 12.6446 16.7839 13.6749 15.9992 14.5347C15.2145 15.3945 14.2408 16.0604 13.1549 16.4797C12.069 16.8991 10.9005 17.0605 9.7416 16.9513C8.72154 16.8552 7.7334 16.5518 6.83723 16.0612L4.29494 17.2723C3.23222 17.7785 2.12271 16.6692 2.62876 15.6064L3.83948 13.0636C3.26488 12.0144 2.94833 10.8411 2.91898 9.64114C2.88622 8.30169 3.21251 6.97789 3.86399 5.8071C4.51547 4.63631 5.4684 3.66119 6.62389 2.98294C7.77902 2.30491 9.09451 1.94825 10.4339 1.94996ZM10.4339 1.94996C10.4343 1.94996 10.4348 1.94996 10.4352 1.94996L10.4341 2.69996L10.4327 1.94996C10.4331 1.94996 10.4335 1.94996 10.4339 1.94996ZM13.1214 4.07707C12.2868 3.66289 11.3673 3.44821 10.4355 3.44996L10.433 3.44996C9.36086 3.44842 8.30784 3.73382 7.38321 4.27655C6.45858 4.81929 5.69605 5.59958 5.17473 6.53645C4.65341 7.47332 4.39232 8.53263 4.41853 9.60446C4.44475 10.6763 4.75732 11.7216 5.32382 12.6318C5.45888 12.8489 5.47411 13.1197 5.36422 13.3505L4.28601 15.615L6.55002 14.5365C6.78078 14.4266 7.05164 14.4418 7.26869 14.5768C8.05992 15.0689 8.95463 15.3706 9.88231 15.458C10.81 15.5454 11.7453 15.4161 12.6145 15.0805C13.4838 14.7448 14.2631 14.2118 14.8913 13.5236C15.5194 12.8353 15.9791 12.0106 16.2342 11.1144C16.4893 10.2182 16.5327 9.27499 16.3611 8.35913C16.1895 7.44328 15.8076 6.57978 15.2454 5.8367C14.6832 5.09362 13.9561 4.49125 13.1214 4.07707Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"}),a("path",{d:"M11.25 6.5C11.25 6.08579 10.9142 5.75 10.5 5.75C10.0858 5.75 9.75 6.08579 9.75 6.5V8.75H7.5C7.08579 8.75 6.75 9.08579 6.75 9.5C6.75 9.91421 7.08579 10.25 7.5 10.25H9.75V12.5C9.75 12.9142 10.0858 13.25 10.5 13.25C10.9142 13.25 11.25 12.9142 11.25 12.5V10.25H13.5C13.9142 10.25 14.25 9.91421 14.25 9.5C14.25 9.08579 13.9142 8.75 13.5 8.75H11.25V6.5Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})],-1),_o=[vo];function bo(t,e,r,d,o,s){var n;return l(),c("div",{class:"title-picker task-drag-handle",onMouseover:e[10]||(e[10]=i=>o.hover=!0),onMouseleave:e[11]||(e[11]=i=>o.hover=!1)},[a("div",{class:"task-menu-arrow",onClick:e[1]||(e[1]=i=>o.openModal=!o.openModal)},[r.isHover||o.hover||o.openModal?(l(),c("span",no,lo)):h("",!0),o.openModal?(l(),c("div",co,[a("button",{onClick:e[0]||(e[0]=i=>s.deleteTask(r.groupId,r.task.id))},mo)])):h("",!0)]),a("div",{class:"left-indicator-inner",style:O({"background-color":s.labelColor.style.color})},null,4),a("div",go,[b(a("div",ho,[b(a("input",{type:"text",onKeyup:e[2]||(e[2]=G((...i)=>s.saveTitle&&s.saveTitle(...i),["enter"])),onBlur:e[3]||(e[3]=(...i)=>s.saveTitle&&s.saveTitle(...i)),"onUpdate:modelValue":e[4]||(e[4]=i=>o.title=i),ref:"input",class:"edit-title-input"},null,544),[[T,o.title]])],512),[[I,o.isEditing]]),b(a("div",fo,[a("span",{style:O({border:o.hoverEdit?"1px solid #c4c4c4":"none",padding:o.hoverEdit?"3px":"none"})},y((n=r.task)==null?void 0:n.title),5)],512),[[I,!o.isEditing]])]),b(a("div",{class:"edit-icon",tabindex:"0",onBlur:e[8]||(e[8]=(...i)=>s.toggleEditTask&&s.toggleEditTask(...i))},[a("button",{class:"edit-title-btn",onClick:e[5]||(e[5]=(...i)=>s.toggleEditTask&&s.toggleEditTask(...i)),onMouseover:e[6]||(e[6]=i=>o.hoverEdit=!0),onMouseout:e[7]||(e[7]=i=>o.hoverEdit=!1)},"Edit",32)],544),[[I,!o.isEditing]]),a("div",{class:"start-conversation-container",onClick:e[9]||(e[9]=i=>this.$router.push(`/boards/${r.boardId}/pulses/${r.groupId}/${r.task.id}`))},_o)],32)}var yo=m(ao,[["render",bo]]);const Co={name:"task-preview",props:{groupId:String,task:Object},data(){return{isHover:!1}},components:{filePicker:fr,memberPicker:Tr,statusPicker:Gr,priorityPicker:oo,tagPicker:qr,timelinePicker:Yr,titlePicker:yo},methods:{updateTask(t){t.groupId=this.groupId,this.$store.dispatch({type:"updateTask",data:t})}},computed:{cmpsOrder(){return this.$store.getters.board.cmpsOrder},hover(){return this.isHover},boardId(){return this.$store.getters.board._id}}},ko={class:"task-preview"},wo=a("div",{class:"right-indicator-inner"},null,-1);function Mo(t,e,r,d,o,s){return l(),c("div",{class:"task-and-side-indicator",onMouseover:e[0]||(e[0]=n=>o.isHover=!0),onMouseleave:e[1]||(e[1]=n=>o.isHover=!1)},[a("section",ko,[(l(!0),c(f,null,C(s.cmpsOrder,n=>(l(),M(ee(n.cmpName),{class:U(n.cmpName+"-col"),key:n,task:r.task,groupId:r.groupId,isHover:s.hover,boardId:s.boardId,onUpdate:s.updateTask},null,8,["class","task","groupId","isHover","boardId","onUpdate"]))),128))]),wo],32)}var $o=m(Co,[["render",Mo]]);const Oo={props:{data:Array},data(){return{}},computed:{}},So={class:"file-sum"};function To(t,e,r,d,o,s){return l(),c("div",So,"file-sum")}var xo=m(Oo,[["render",To]]);const No={name:"members-sum",props:{data:Array,groupId:String},data(){return{groupData:null}},created(){},computed:{groupMembers(){return this.data.find(e=>e.id===this.groupId).member},groupMembersLength(){return this.groupMembers.length},firstMemberPic(){return this.groupMembers[0].imgUrl}},methods:{}},Do={class:"members-sum"},Bo={key:0},Io=["src","alt"],Uo={key:1},Ho=["src"],Ao={class:"small-number sum"};function Lo(t,e,r,d,o,s){return l(),c("section",Do,[s.groupMembersLength<3?(l(),c("div",Bo,[(l(!0),c(f,null,C(s.groupMembers,n=>(l(),c("div",{key:n._id,class:"sum-members-display"},[a("img",{src:n.imgUrl,alt:n.fullname},null,8,Io)]))),128))])):(l(),c("div",Uo,[a("img",{src:s.firstMemberPic},null,8,Ho),a("div",Ao,"+"+y(s.groupMembersLength-1),1)]))])}var Vo=m(No,[["render",Lo]]);const Eo={name:"priority-sum",props:{data:Array,groupId:String},data(){return{priorities:this.$store.getters.board.labels.priority}},computed:{prioritiesMap(){return this.data.find(e=>e.id===this.groupId).priority},groupPrioritiesData(){let t={};const e=this.prioritiesMap;for(const r in e)t[r]={count:e[r],style:this.priorities.find(d=>d.id===r)};return t},prioritiesSum(){let t=0;const e=this.prioritiesMap;for(const r in e)t+=e[r];return t}}},Jo={class:"priority-sum"};function Go(t,e,r,d,o,s){return l(),c("section",Jo,[(l(!0),c(f,null,C(s.groupPrioritiesData,n=>(l(),c("div",{key:n,class:"priority-sum-display"},[a("div",{class:"priority-sum-display",style:O({"background-color":n.style.color,width:n.count/s.prioritiesSum*124+"px"})},null,4)]))),128))])}var Fo=m(Eo,[["render",Go]]);const Po={name:"status-sum",props:{data:Array,groupId:String},data(){return{statuses:this.$store.getters.board.labels.status}},computed:{groupData(){return this.data.find(e=>e.id===this.groupId)},groupStatusData(){let t={};const e=this.groupData.groupStatusCount;for(const r in e)t[r]={count:e[r],style:this.statuses.find(d=>d.id===r)};return t},statusesSum(){let t=0;const e=this.groupData.groupStatusCount;for(const r in e)t+=e[r];return t}}},jo={class:"status-sum"};function Zo(t,e,r,d,o,s){return l(),c("section",jo,[(l(!0),c(f,null,C(s.groupStatusData,n=>(l(),c("div",{key:n,class:"status-sum-display"},[a("div",{class:"status-sum-display",style:O({"background-color":n.style.color,width:n.count/s.statusesSum*124+"px"})},null,4)]))),128))])}var Wo=m(Po,[["render",Zo]]);const Ro={name:"tag-sum",props:{data:Array,groupId:String},data(){return{}},computed:{groupData(){return this.data.find(e=>e.id===this.groupId)}}},Ko={class:"tags-sum-preview"};function qo(t,e,r,d,o,s){return l(),c("section",null,[a("div",Ko,[(l(!0),c(f,null,C(s.groupData.tags,n=>(l(),c("span",{key:n,class:""},[a("span",{class:"tags-display",style:O({color:n.color})},y(n.txt),5)]))),128))])])}var Xo=m(Ro,[["render",qo]]);const zo={name:"timeline-sum",props:{data:Array,groupId:String},data(){return{isHovering:!1,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},computed:{groupData(){return this.data.find(e=>e.id===this.groupId)},labelColor(){var o,s,n;const t=(o=this.$store.getters.board)==null?void 0:o.groups.find(i=>i.id===this.groupId);var e=(s=this.groupData)==null?void 0:s.timeline.start,r=(n=this.groupData)==null?void 0:n.timeline.end;if(!e&&!r)return{"background-color":"#ababab"};const d=this.calcTimeProgress(e,r);return t!=null&&t.style?{background:`linear-gradient(to right, ${t==null?void 0:t.style.color} ${d}%, #333 ${d}%`}:{"background-color":"#333"}},content(){var t=+this.groupData.timeline.start,e=+this.groupData.timeline.end;if(this.isHovering){const r=e-t;return r?`${(r/(1e3*60*60*24)).toFixed(0)}d`:"Set Dates"}else{if(!t&&!e)return"-";const{startMonth:r,endMonth:d,startDay:o,endDay:s}=this.getTime(t,e);return r===d?`${this.monthNames[r]} ${o} - ${s}`:`${this.monthNames[r]} ${o} - ${this.monthNames[d]} ${s}`}}},methods:{calcTimeProgress(t,e){const d=Date.now()-t,o=e-t;return o<1e3*60*60*24&&o>0?progress:o===0?100:d/o*100},getTime(t,e){t=new Date(t),e=new Date(e);var r=t.getMonth(),d=e.getMonth(),o=t.getDate(),s=e.getDate();return{startMonth:r,endMonth:d,startDay:o,endDay:s}},toggleContent(){this.isHovering=!this.isHovering}}},Qo={class:"timeline-sum"};function Yo(t,e,r,d,o,s){return l(),c("section",null,[a("div",Qo,[a("label",{onMouseover:e[0]||(e[0]=(...n)=>s.toggleContent&&s.toggleContent(...n)),onMouseleave:e[1]||(e[1]=(...n)=>s.toggleContent&&s.toggleContent(...n)),class:"timeline",style:O(s.labelColor)},y(s.content),37)])])}var ea=m(zo,[["render",Yo]]);const ta={name:"sum-preview",props:{groupId:String},data(){return{}},components:{fileSum:xo,memberSum:Vo,prioritySum:Fo,statusSum:Wo,tagSum:Xo,timelineSum:ea},methods:{},computed:{cmpsOrder(){var e;const t=JSON.parse(JSON.stringify((e=this.$store.getters.board)==null?void 0:e.cmpsOrder));return t.shift(),t.map(r=>r.cmpName.replace("picker","sum"))},boardData(){const{boardMapByGroups:t}=this.$store.getters.boardData;return t}}},sa={class:"sum-preview"};function ra(t,e,r,d,o,s){return l(),c("section",sa,[(l(!0),c(f,null,C(s.cmpsOrder,n=>(l(),M(ee(n),{class:U(n+"-sum"),key:n,data:s.boardData,groupId:r.groupId},null,8,["class","data","groupId"]))),128))])}var oa=m(ta,[["render",ra]]);const aa={name:"add-task",props:{groupId:String},data(){return{task:k.getEmptyTask(),isFocused:!1}},methods:{onSubmit(){this.isFocused=!1,this.task.title&&(this.$emit("taskAdded",JSON.parse(JSON.stringify(this.task))),this.task=k.getEmptyTask())},toggleFocus(){this.isFocused=!this.isFocused}},computed:{leftBoxStyle(){var e,r;const t=(e=this.$store.getters.board)==null?void 0:e.groups.find(d=>d.id===this.groupId);return{"background-color":(r=t==null?void 0:t.style)==null?void 0:r.color,opacity:this.isFocused?1:.6}},btnClass(){return this.isFocused?"focus":""}}},na={class:"add-task"};function ia(t,e,r,d,o,s){return l(),c("div",na,[a("div",{class:"left-indicator-inner",style:O(s.leftBoxStyle)},null,4),a("form",{onSubmit:e[3]||(e[3]=H((...n)=>s.onSubmit&&s.onSubmit(...n),["prevent"]))},[b(a("input",{type:"text",onFocus:e[0]||(e[0]=(...n)=>s.toggleFocus&&s.toggleFocus(...n)),onBlur:e[1]||(e[1]=(...n)=>s.onSubmit&&s.onSubmit(...n)),"onUpdate:modelValue":e[2]||(e[2]=n=>o.task.title=n),placeholder:"+ Add task"},null,544),[[T,o.task.title]]),o.isFocused?(l(),c("button",{key:0,class:U(s.btnClass)}," Add ",2)):h("",!0)],32)])}var da=m(aa,[["render",ia]]);const la={name:"board-group",props:{group:Object,cmpsOrder:Array},components:{taskPreview:$o,sumPreview:oa,addTask:da,Container:te,Draggable:se},data(){return{isHover:!1,isHoverGroupMenu:!1,openContext:!1,changeName:!1,prevCmpTitle:!1,newCmpTitle:""}},computed:{sortBy(){return this.$store.getters.sortBy},cmps(){const t=this.$store.getters.board.cmpsOrder;return t.unshift(),t},isDraggingGroups(){return this.$store.getters.groupDragMode}},methods:{setSortBy(t){this.$store.commit({type:"setSortBy",sortBy:t})},mouseUp(){this.$store.commit("toggleGroupDragMode",!1),window.removeEventListener("mouseup",this.mouseUp)},startDragGroupsMode(){this.$store.commit("toggleGroupDragMode",!0),window.addEventListener("mouseup",this.mouseUp)},editCmpTitle(t){this.prevCmpTitle=t,this.newCmpTitle=t},saveCmpTitle(){this.$store.dispatch({type:"saveCmpTitle",prevCmpTitle:this.prevCmpTitle,newCmpTitle:this.newCmpTitle}),this.prevCmpTitle="",this.newCmpTitle=""},isEditing(t){return this.prevCmpTitle===t&&t},addTask(t){this.$store.dispatch({type:"saveTask",task:t,groupId:this.group.id})},getChildPayload(t){return this.group.tasks[t]},onDrop(t,e){var r=null;e==="cmpsOrder"?r=this.$store.getters.board.cmpsOrder:e==="tasks"&&(r={groupId:this.group.id,tasks:this.group.tasks}),this.$store.dispatch({type:"changeOrder",dropResult:t,entities:r,entityType:e})},remove(){this.$store.dispatch({type:"removeGroup",id:this.group.id})},updateGroup(){const t=JSON.parse(JSON.stringify(this.group)),e=this.$refs.editableSpan.innerText;t.title!==e&&(t.title=e,console.log("group.title",t.title),this.$store.dispatch({type:"saveGroup",group:t}),this.changeName=!1)}}},ca={class:"board-group"},ua={class:"table-head-wrapper"},pa={class:"table-head relative",style:{cursor:"default"}},ma=a("span",null,[a("i",{class:"fa-solid fa-circle-chevron-down"})],-1),ga=[ma],ha=a("i",{class:"fa-solid fa-grip-vertical"},null,-1),fa=[ha],va={key:0,class:"context-modal"},_a={class:"group-cmp-columns"},ba={key:0,class:"cols-drag-handle fa-solid fa-grip-vertical"},ya=["onClick"],Ca=a("i",{class:"fa fa-sort-desc desc-icon"},null,-1),ka=a("i",{class:"fa fa-sort-asc asc-icon"},null,-1),wa=[Ca,ka],Ma={class:"cmp-title"},$a=["onClick"],Oa={class:"group-tasks"};function Sa(t,e,r,d,o,s){var w,N;const n=g("Draggable"),i=g("Container"),p=g("task-preview"),D=g("add-task"),x=g("sum-preview");return l(),c("section",ca,[a("div",ua,[a("div",pa,[a("div",{class:"th-title title-picker-col",style:O({color:(w=r.group.style)==null?void 0:w.color}),onMouseover:e[6]||(e[6]=u=>o.isHover=!0),onMouseleave:e[7]||(e[7]=u=>o.isHover=!1)},[a("div",{class:"group-menu-open",onClick:e[0]||(e[0]=u=>o.openContext=!o.openContext),"track-by":"$index",onMouseover:e[1]||(e[1]=u=>o.isHoverGroupMenu=!0),onMouseleave:e[2]||(e[2]=u=>o.isHoverGroupMenu=!1)},ga,32),o.isHover?(l(),c("span",{key:0,class:"drag-handle",onMousedown:e[3]||(e[3]=u=>s.startDragGroupsMode()),style:{cursor:"move"}},fa,32)):h("",!0),a("span",{contenteditable:"true",class:"editable-cmp group-title title-picker-col",onKeyup:e[4]||(e[4]=G((...u)=>s.updateGroup&&s.updateGroup(...u),["enter"])),onBlur:e[5]||(e[5]=(...u)=>s.updateGroup&&s.updateGroup(...u)),ref:"editableSpan"},y(r.group.title),545)],36),o.openContext?(l(),c("section",va,[a("button",{onClick:e[8]||(e[8]=u=>(o.changeName=!0,o.openContext=!1))}," Rename Group "),a("button",{onClick:e[9]||(e[9]=(...u)=>s.remove&&s.remove(...u))},"Delete")])):h("",!0),b(a("div",_a,[_(i,{orientation:"horizontal",onDrop:e[13]||(e[13]=u=>s.onDrop(u,"cmpsOrder")),"drag-handle-selector":".cols-drag-handle","drag-class":"drag-cols"},{default:S(()=>[(l(!0),c(f,null,C(s.cmps,u=>(l(),M(n,{class:U(u.cmpName+"-col"),key:u.cmpName},{default:S(()=>[a("div",{class:U(["th-header",u.cmpName+"-col"])},[u.cmpName!=="title-picker"?(l(),c("i",ba)):h("",!0),u.cmpName!=="title-picker"?(l(),c("span",{key:1,onClick:v=>s.setSortBy(u.cmpName),class:"sort-col-btn"},wa,8,ya)):h("",!0),a("span",Ma,[s.isEditing(u.preName)?h("",!0):(l(),c("span",{key:0,onClick:v=>s.editCmpTitle(u.preName)},y(u.preName),9,$a)),b(a("span",null,[b(a("input",{type:"text",onBlur:e[10]||(e[10]=(...v)=>s.saveCmpTitle&&s.saveCmpTitle(...v)),onKeyup:e[11]||(e[11]=G((...v)=>s.saveCmpTitle&&s.saveCmpTitle(...v),["enter"])),"onUpdate:modelValue":e[12]||(e[12]=v=>o.newCmpTitle=v)},null,544),[[T,o.newCmpTitle]])],512),[[I,s.isEditing(u.preName)]])])],2)]),_:2},1032,["class"]))),128))]),_:1})],512),[[I,!s.isDraggingGroups]])])]),b(a("div",Oa,[(N=r.group)!=null&&N.tasks?(l(),M(i,{key:0,onDrop:e[14]||(e[14]=u=>s.onDrop(u,"tasks")),"group-name":"board-tasks",orientation:"vertical","get-child-payload":s.getChildPayload,"drag-handle-selector":".task-drag-handle","drag-class":"drag-task"},{default:S(()=>{var u;return[(l(!0),c(f,null,C((u=r.group)==null?void 0:u.tasks,v=>(l(),M(n,{key:v.id},{default:S(()=>[_(p,{task:v,groupId:r.group.id},null,8,["task","groupId"])]),_:2},1024))),128))]}),_:1},8,["get-child-payload"])):h("",!0),_(D,{groupId:r.group.id,onTaskAdded:s.addTask},null,8,["groupId","onTaskAdded"]),_(x,{groupId:r.group.id},null,8,["groupId"])],512),[[I,!s.isDraggingGroups]])])}var Ta=m(la,[["render",Sa]]);const xa={name:"main-table",props:{board:Object},components:{Container:te,Draggable:se,boardGroup:Ta},computed:{isDraggingGroups(){return this.$store.getters.groupDragMode}},methods:{onDrop(t){this.$store.dispatch({type:"changeOrder",dropResult:t,entities:this.board.groups,entityType:"groups"})}}},Na={class:"main-table"},Da={key:0,class:"main-table-container"};function Ba(t,e,r,d,o,s){var x;const n=g("board-group"),i=g("Draggable"),p=g("Container"),D=g("router-view");return l(),c("section",Na,[r.board?(l(),c("div",Da,[(x=r.board)!=null&&x.groups?(l(),M(p,{key:0,onDrop:s.onDrop,orientation:"vertical","drag-class":"drag-group","drag-handle-selector":".drag-handle"},{default:S(()=>{var w;return[(l(!0),c(f,null,C((w=r.board)==null?void 0:w.groups,N=>(l(),M(i,{key:N.id,style:{"{\r\n              overflow":"'unset'"}},{default:S(()=>{var u;return[(l(),M(n,{group:JSON.parse(JSON.stringify(N)),cmpsOrder:(u=r.board)==null?void 0:u.cmpsOrder,key:N.id},null,8,["group","cmpsOrder"]))]}),_:2},1024))),128))]}),_:1},8,["onDrop"])):h("",!0)])):h("",!0),_(D)])}var Ia=m(xa,[["render",Ba]]);const Ua={name:"bar-chart",props:{data:Object,categories:Object},components:{Chart:pe.exports.Chart},data(){return{chartOptions:{title:"",series:[{type:"column",data:this.data}],xAxis:{categories:this.categories},yAxis:{min:0,title:{text:"Count"}}}}},created(){}};function Ha(t,e,r,d,o,s){const n=g("Chart");return l(),M(n,{options:o.chartOptions},null,8,["options"])}var Aa=m(Ua,[["render",Ha]]);const La={name:"chart-view",data(){return{}},components:{barChart:Aa},computed:{charts(){var t,e;return console.log("this.$store.getters.board?.charts",(t=this.$store.getters.board)==null?void 0:t.charts),(e=this.$store.getters.board)==null?void 0:e.charts},statusChart(){var o,s;const t=(o=this.$store.getters.boardData)==null?void 0:o.statusMapCount,e=(s=this.$store.getters.board)==null?void 0:s.labels.status;if(!(!e||!t)){var r=[];for(var d in t){const n=e.find(i=>i.id===d);if(n.txt){const i={y:t[d],color:n.color,name:n.txt};r.push(i)}}return console.log("data",r),r}},statuses(){var e;return JSON.parse(JSON.stringify((e=this.$store.getters.board)==null?void 0:e.labels.status)).map(r=>{if(!!r.txt)return r.txt})}}},Va={class:"chart-view-container"},Ea=a("h1",null,"Charts",-1),Ja={class:"grid-layout"};function Ga(t,e,r,d,o,s){const n=g("bar-chart");return l(),c("div",Va,[Ea,a("div",Ja,[s.statusChart?(l(),M(n,{key:0,data:s.statusChart,categories:s.statuses},null,8,["data","categories"])):h("",!0)])])}var Fa=m(La,[["render",Ga]]);const Pa={name:"my-work",props:[],emits:[],components:{},data(){return{titles:["Overdue","Today","This week","Next week","Later","Without date"],headerTitle:["Board","Group","People","Date","Status"]}},created(){},mounted(){},methods:{},computed:{},unmounted(){}},ja={class:"my-work"},Za=F('<h1>My Work</h1><div class="spacer"></div><div class="search"><input id="search" type="text" placeholder="Search"><label for="search"><i class="fa-solid fa-magnifying-glass"></i></label></div>',3),Wa={class:"content"},Ra={class:"haeder-wrapper flex"},Ka={class:"title-col-my-work"};function qa(t,e,r,d,o,s){return l(),c("section",ja,[Za,a("div",Wa,[(l(!0),c(f,null,C(o.titles,n=>(l(),c("div",{class:"table-wrapper",key:n},[a("div",Ra,[a("div",Ka,[a("h2",null,y(n),1)]),(l(!0),c(f,null,C(o.headerTitle,i=>(l(),c("div",{key:i,class:U(i+"-col-my-work")},[a("span",null,y(i),1)],2))),128))])]))),128))])])}var Xa=m(Pa,[["render",qa]]);const za={name:"update-preview",props:{update:Object},emits:[],components:{},data(){return{}},created(){},mounted(){},methods:{},computed:{time(){const e=Date.now()-this.update.createdAt,r=Math.floor(e/6e4),d=Math.floor(r/60),o=Math.floor(d/24),s=new Date(this.update.createdAt),n=s.getDate()<10?"0"+s.getDate():s.getDate(),i=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,p=s.getFullYear(),D=`${n}.${i}.${p}`;return r<60?r+" mins ago":d<24?d+" hours ago":o<30?o+" days ago":"At "+D}},unmounted(){}},Qa={class:"update-preview"},Ya={class:"post-header"},en={class:"member-img"},tn=["src"],sn={class:"title"},rn={class:"action"},on={class:"time"},an=a("i",{class:"fa-regular fa-clock"},null,-1),nn=a("div",{class:"icons"},[a("i",{class:"fa-regular fa-bell"}),a("i",{class:"fa-solid fa-caret-down"})],-1),dn={class:"content"},ln=F('<div class="actions"><div class="like"><button><i class="fa-regular fa-thumbs-up"></i><span>Like</span></button></div><div class="reply"><button><i class="fa-solid fa-reply"></i><span>Reply</span></button></div></div>',1);function cn(t,e,r,d,o,s){return l(),c("div",Qa,[a("div",Ya,[a("span",en,[a("img",{src:r.update.byMember.imgUrl},null,8,tn)]),a("div",sn,y(r.update.byMember.fullname),1),a("div",rn,[a("div",on,[an,$(" "+y(s.time),1)]),nn])]),a("div",dn,[a("p",null,y(r.update.txt),1)]),ln])}var un=m(za,[["render",cn]]);const pn={name:"task-update",props:{taskUpdate:Array},emits:["updateTask"],components:{updatePreview:un},data(){return{}},created(){},mounted(){},methods:{postUpdate(){!this.$refs.contect.innerText||(this.$emit("updateTask",this.$refs.contect.innerText),console.log(this.$refs.contect.innerText),this.$refs.contect.innerText="")}},computed:{},unmounted(){}},mn={class:"task-update"},gn={class:"input-warpper"},hn={class:"input",contenteditable:"true","data-ph":"Write an uptade...",ref:"contect"},fn={class:"btn-container"},vn={class:"update-container"};function _n(t,e,r,d,o,s){const n=g("update-preview");return l(),c("section",mn,[a("div",gn,[a("div",hn,null,512),a("div",fn,[a("button",{onClick:e[0]||(e[0]=(...i)=>s.postUpdate&&s.postUpdate(...i))},"Update")])]),a("section",vn,[(l(!0),c(f,null,C(r.taskUpdate,i=>(l(),M(n,{key:i.id,update:i},null,8,["update"]))),128))])])}var bn=m(pn,[["render",_n]]);const yn={name:"task-details",props:[],emits:[],components:{taskUpdate:bn},data(){return{}},async created(){},mounted(){},methods:{updateTask(t){this.$store.dispatch({type:"addUpdate",txt:t,taskId:this.params.taskId,boardId:this.params.id,groupId:this.params.groupId})}},computed:{boardId(){return this.$route.params.id},params(){return this.$route.params},task(){return this.$store.getters.taskForDisplay}},unmounted(){},watch:{params:{async handler(){const{id:t,groupId:e,taskId:r}=this.$route.params;!r||this.$store.commit({type:"setTaskFordisplay",id:t,groupId:e,taskId:r})},immediate:!0}}},Cn={key:0,class:"task-details"},kn={class:"title-wrapper"},wn={class:"title"},Mn={class:"members"},$n=["src"],On=a("span",null,[a("button",null,[a("i",{class:"fa-solid fa-ellipsis"})])],-1),Sn=a("nav",null,[a("div",{class:"btn-wrapper"},[a("div",{class:"main-btns"},[a("button",null,"Updates"),a("button",null,"Files"),a("button",null,"Activity Log")]),a("button",null,"+ Add View")]),a("div",{class:"spacer"})],-1);function Tn(t,e,r,d,o,s){const n=g("task-update");return s.task?(l(),c("section",Cn,[a("header",null,[a("button",{onClick:e[0]||(e[0]=i=>this.$router.push(`/boards/${s.boardId}`))},"X"),a("div",kn,[a("div",wn,[a("h2",null,y(s.task.title),1)]),a("span",Mn,[(l(!0),c(f,null,C(s.task.members,i=>(l(),c("span",{class:"member-preview",key:i._id},[a("img",{src:i.imgUrl},null,8,$n)]))),128))]),On])]),Sn,a("section",null,[s.task?(l(),M(n,{key:0,taskUpdate:s.task.updates,onUpdateTask:s.updateTask},null,8,["taskUpdate","onUpdateTask"])):h("",!0)])])):h("",!0)}var xn=m(yn,[["render",Tn]]);const Nn={name:"users",components:{},data(){return{}},computed:{},methods:{}},Dn={class:"users"},Bn=$("Login"),In=$(" | "),Un=$("Sign up"),Hn=a("pre",{style:{color:"white"}},null,-1);function An(t,e,r,d,o,s){const n=g("router-link"),i=g("router-view");return l(),c(f,null,[a("section",Dn,[_(n,{to:"/users/login"},{default:S(()=>[Bn]),_:1}),In,_(n,{to:"/users/signup"},{default:S(()=>[Un]),_:1}),_(i)]),Hn],64)}var Ln=m(Nn,[["render",An]]);const Vn={name:"login",components:{},data(){return{user:{username:"",password:""}}},computed:{},methods:{login(){this.$store.dispatch({type:"login",user:JSON.parse(JSON.stringify(this.user))})},logout(){this.$store.dispatch({type:"logout",user:JSON.parse(JSON.stringify(this.user))})}}},En={class:"login"},Jn={class:"login-container"},Gn=a("h1",null,"Welcome to Funday.com",-1),Fn=a("h3",null,"Get started - it's free. No credit card needed.",-1),Pn=a("div",{class:"pic"},null,-1),jn=a("pre",{style:{color:"white"}},null,-1);function Zn(t,e,r,d,o,s){return l(),c(f,null,[a("section",En,[a("article",null,[a("div",Jn,[a("form",{onSubmit:e[3]||(e[3]=H((...n)=>s.login&&s.login(...n),["prevent"]))},[Gn,Fn,b(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>o.user.username=n),placeholder:"Enter username"},null,512),[[T,o.user.username]]),b(a("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>o.user.password=n),placeholder:"Enter password"},null,512),[[T,o.user.password]]),a("button",{onClick:e[2]||(e[2]=(...n)=>s.login&&s.login(...n))},"Login")],32),Pn])])]),jn],64)}var Wn=m(Vn,[["render",Zn]]);const Rn={name:"sign-up",components:{},data(){return{newUser:{fullname:"",username:"",password:""}}},computed:{},methods:{signup(){console.log(this.newUser),this.$store.dispatch({type:"signup",newuser:JSON.parse(JSON.stringify(this.newUser))}),this.newUser={fullname:"",username:"",password:""}}}},Kn={class:"sign-up"},qn={class:"login-container"},Xn=a("h1",null,"Lets start...",-1),zn=a("h3",null,"it's free. No credit card needed.",-1),Qn=a("div",{class:"pic"},null,-1);function Yn(t,e,r,d,o,s){return l(),c("section",Kn,[a("article",null,[a("div",qn,[a("form",{onSubmit:e[4]||(e[4]=H((...n)=>s.signup&&s.signup(...n),["prevent"]))},[Xn,zn,b(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>o.newUser.fullname=n),placeholder:"Enter fullname"},null,512),[[T,o.newUser.fullname]]),b(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=n=>o.newUser.username=n),placeholder:"Enter username"},null,512),[[T,o.newUser.username]]),b(a("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=n=>o.newUser.password=n),placeholder:"Enter password"},null,512),[[T,o.newUser.password]]),a("button",{onClick:e[3]||(e[3]=(...n)=>s.signup&&s.signup(...n))},"Signup")],32),Qn])])])}var ei=m(Rn,[["render",Yn]]);const le=me({history:ge(),linkActiveClass:"active",routes:[{path:"/",name:"home",component:ze},{path:"/boards/:id",name:"board-app",component:ur,children:[{path:"",component:Ia,children:[{path:"pulses/:groupId/:taskId",name:"task-details",component:xn}]},{path:"chart",component:Fa}]},{path:"/users",name:"users",component:Ln,children:[{path:"login",name:"login",component:Wn},{path:"signup",name:"sign-up",component:ei}]},{path:"/my-work",name:"my-work",component:Xa}]});var ti={state:{isLoading:!1,boards:null,board:null,boardForDisplay:null,isDraggingGroup:!1,filterBy:{txt:""},sortBy:{type:"",dir:1},boardMapByGroups:[],isModalOpen:!1,taskForDisplay:null},getters:{boards({boards:t}){return t},groupDragMode({isDraggingGroup:t}){return t},board({boardForDisplay:t}){return t},cmpsOrder({board:t}){return t.cmpsOrder},boardData({boardForDisplay:t}){var e=[],r=[];if(!(t!=null&&t.groups))return;const d=JSON.parse(JSON.stringify(t.groups)),o=[];return d.forEach(s=>{const n=s.tasks.reduce((u,v)=>(v.status&&(u[v.status]?u[v.status]+=1:u[v.status]=1),u),{});e.push(n);const i=s.tasks.reduce((u,v)=>(v.priority&&(u[v.priority]?u[v.priority]+=1:u[v.priority]=1),u),{});r.push(i);const p={start:[],end:[]};s.tasks.forEach(u=>{p.start.push(u.timeline.start),p.end.push(u.timeline.end)});const D={start:Math.min(...p.start),end:Math.max(...p.end)},x=[];s.tasks.forEach(u=>{u.tags.forEach(E=>{(!x.length||!x.some(R=>R.txt===E.txt))&&x.push(E)})});const w=[];s.tasks.forEach(u=>{u.members.forEach(E=>{(!w.length||!w.some(R=>R._id===E._id))&&w.push(E)})});const N={id:s.id,member:w,tags:x,timeline:D,priority:i,groupStatusCount:n};o.push(N)}),e=e.reduce((s,n)=>{for(var i in n){const p=n[i];s[i]?s[i]+=p:s[i]=p}return s},{}),r=r.reduce((s,n)=>{for(var i in n){const p=n[i];s[i]?s[i]+=p:s[i]=p}return s},{}),{statusMapCount:e,priorityMapCount:r,boardMapByGroups:o}},isModalOpen({isModalOpen:t}){return t},isLoading({isLoading:t}){return t},sortBy({sortBy:t}){return t},taskForDisplay({taskForDisplay:t}){return t}},mutations:{setSortBy(t,{sortBy:e}){const r=JSON.parse(JSON.stringify(t.boardForDisplay));switch(t.sortBy.type===e&&(t.sortBy.dir=t.sortBy.dir===1?-1:1),e){case"status-picker":r.groups.forEach((d,o)=>r.groups[o].tasks=d.tasks.sort((s,n)=>s.status.localeCompare(n.status)*t.sortBy.dir));break;case"priority-picker":r.groups.forEach(d=>d.tasks.sort((o,s)=>o.priority.localeCompare(s.priority)*t.sortBy.dir));break;case"tag-picker":r.groups.forEach(d=>d.tasks.sort((o,s)=>{var n,i;return console.log(o.tags[0].txt,"t1",s.tags[0].txt,"t2"),!o.tags[0].txt||!s.tags[0].txt?t.sortBy.dir:((i=o.tags[0])==null?void 0:i.txt.localeCompare((n=s.tags[0])==null?void 0:n.txt))*t.sortBy.dir}));break;case"member-picker":r.groups.forEach(d=>d.tasks.sort((o,s)=>{var n,i;return!o.members[0].fullname||!s.members[0].fullname?t.sortBy.dir:((i=o.members[0])==null?void 0:i.fullname.localeCompare((n=s.members[0])==null?void 0:n.fullname))*t.sortBy.dir}));break;default:return}t.sortBy.type=e,t.boardForDisplay=r},loadBoards(t,{boards:e}){t.boards=e},loadBoard(t,{board:e}){t.board=e,t.boardForDisplay=JSON.parse(JSON.stringify(e))},onSetFilter(t,{filterBy:e}){t.filterBy=JSON.parse(JSON.stringify(e));const r=JSON.parse(JSON.stringify(t.board)),d=new RegExp(e.txt,"i");var o=r.groups.filter(s=>{if(d.test(s.title)&&!e.member)return s;var n=s.tasks.filter(i=>d.test(i.title));if(e.member&&(n=n.filter(i=>i.members.some(p=>p._id===e.member))),s.tasks=n,s.tasks.length>0)return s});t.boardForDisplay.groups=JSON.parse(JSON.stringify(o))},setOpenModal(t,{boolean:e}){t.isModalOpen=e},toggleGroupDragMode(t,e){t.isDraggingGroup=e},addTask(t,{groupIdx:e,savedTask:r}){t.boardForDisplay.groups[e].tasks.push(r)},updateTask(t,{groupId:e,updatedTask:r}){const d=t.boardForDisplay.groups.findIndex(n=>n.id===e),s=t.boardForDisplay.groups[d].tasks.findIndex(n=>n.id===r.id);s!==-1&&(t.boardForDisplay.groups[d].tasks[s]=r)},saveBoard(t,{savedBoard:e}){const r=t.boards.findIndex(d=>d._id===e._id);r!==-1?(t.boards.splice(r,1,e),t.boardForDisplay=e):t.boards.push(e)},removeBoard(t,{boardId:e}){const r=t.boards.findIndex(d=>d._id===e);t.boards.splice(r,1)},setTasksOrder(t,{result:e,idx:r}){t.boardForDisplay.groups[r].tasks=e},saveGroups(t,e){t.boardForDisplay.groups=e},setGroupsOrder(t,{newOrder:e}){t.boardForDisplay.groups=e},setIsLoading(t,{isLoading:e}){t.isLoading=e},setCmpsOrder(t,{newOrder:e}){t.boardForDisplay.cmpsOrder=e},saveBoard(t,{board:e}){const r=t.boards.findIndex(d=>d._id===e._id);t.boards.splice(r,1,e)},removeTask(t,{groupIdx:e,taskIdx:r}){t.boardForDisplay.groups[e].tasks.splice(r,1)},addUpdate(t,{txt:e,taskId:r,boardId:d,groupId:o}){console.log("hey");const{_id:s,fullname:n,imgUrl:i}=X.getLoggedinUser(),p={id:B.makeId(8),txt:e,createdAt:Date.now(),byMember:{_id:s,fullname:n,imgUrl:i}};t.taskForDisplay.updates.unshift(p)},setTaskFordisplay(t,{id:e,groupId:r,taskId:d}){const s=t.board.groups.find(n=>n.id===r).tasks.find(n=>n.id===d);t.taskForDisplay=s}},actions:{async loadBoards({commit:t}){t({type:"setIsLoading",isLoading:!0});try{const e=await k.query();t({type:"loadBoards",boards:e})}catch{console.log("BoardsStore: Had problems while loading the boards")}finally{t({type:"setIsLoading",isLoading:!1})}},async loadBoard(t,{id:e}){t.commit({type:"setIsLoading",isLoading:!0});try{const r=await k.getById(e);t.commit({type:"loadBoard",board:r})}catch(r){console.log("loadBoard err",r)}finally{t.commit({type:"setIsLoading",isLoading:!1})}},async saveBoard(t,{board:e}){try{console.log("board",e);const r=await k.saveBoard(JSON.parse(JSON.stringify(e)));e._id?t.commit({type:"loadBoard",board:r}):(t.dispatch("loadBoards"),le.push(`/boards/${r._id}`))}catch(r){console.log("saveBoard err",r)}},async removeBoard(t,{boardId:e}){try{await k.removeBoard(e),t.commit({type:"removeBoard",boardId:e})}catch(r){console.log("removeBoard err",r)}},async updateTask({commit:t,state:e},{data:r}){const{cmpType:d,groupId:o}=r;var{task:s}=r,n=JSON.parse(JSON.stringify(s));switch(s=JSON.parse(JSON.stringify(s)),d){case"timeline-picker":s.timeline=r.timeline;break;case"file-picker":break;case"member-picker":s.members=r.members;break;case"priority-picker":s.priority=r.val;break;case"status-picker":s.status=r.val;break;case"tag-picker":const p=r.val;s.tags.push({txt:p,color:B.getRandomColor()});break;case"title-picker":s.title=r.title;break}const i=JSON.parse(JSON.stringify(e.board));try{t({type:"updateTask",groupId:o,updatedTask:s}),A.emit(Qe,{groupId:o,task:s}),await k.saveTask(i,o,s)}catch{console.log("Couldn't update task id- ",s.id),t({type:"updateTask",groupId:o,updatedTask:n})}},async saveTask({commit:t,state:e},{groupId:r,task:d}){var o=null;const s=e.boardForDisplay.groups.findIndex(i=>i.id===r),n=JSON.parse(JSON.stringify(e.board));try{s!==-1&&(o=await k.saveTask(n,r,d),t({type:"addTask",groupIdx:s,savedTask:o}))}catch{console.log("Couldnt save task")}},async removeTask({commit:t,state:e},{groupId:r,taskId:d}){const o=JSON.parse(JSON.stringify(e.boardForDisplay)),s=o.groups.findIndex(i=>i.id===r);if(s===-1)return console.error("boardStore: could not find group id -"+r);const n=o.groups[s].tasks.findIndex(i=>i.id===d);if(n===-1)return console.error("boardStore: could not find task id-"+d);try{await k.removeTask(o,s,n),t({type:"removeTask",groupIdx:s,taskIdx:n})}catch{console.log("Could'nt remove task")}},async changeOrder(t,{dropResult:e,entities:r,entityType:d}){var o=JSON.parse(JSON.stringify(t.state.boardForDisplay));r=JSON.parse(JSON.stringify(r));var s="";if(d==="tasks"&&(s=r.groupId,r=r.tasks),!e.removedIndex&&!e.addedIndex)r=r;else{let n=e.payload;e.removedIndex!==null&&(n=r.splice(e.removedIndex,1)[0]),e.addedIndex!==null&&r.splice(e.addedIndex,0,n)}if(d==="tasks"){const n=o.groups.findIndex(i=>i.id===s);t.commit({type:"setTasksOrder",result:r,idx:n}),await k.saveTasksOrder(o,n,r)}else o[d]=r,d==="cmpsOrder"?t.commit({type:"setCmpsOrder",newOrder:r}):d==="groups"&&t.commit({type:"setGroupsOrder",newOrder:r}),await k.saveBoard(o)},async saveGroup({state:t,commit:e},{group:r}){e({type:"setIsLoading",isLoading:!0});try{const d=r||k.getEmptyGroup(),o=await k.saveGroup(d,JSON.parse(JSON.stringify(t.board)));e({type:"loadBoard",board:o})}catch(d){console.log("saveGroup err",d)}finally{e({type:"setIsLoading",isLoading:!1})}},async removeGroup({state:t,commit:e},{id:r}){e({type:"setIsLoading",isLoading:!0});try{const d=await k.removeGroup(r,JSON.parse(JSON.stringify(t.board)));e({type:"loadBoard",board:d})}catch(d){console.log("removeGroup err",d)}finally{e({type:"setIsLoading",isLoading:!1})}},async addItem({state:t,commit:e}){try{const r=k.getEmptyTask("New Item",B.makeId()),d=JSON.parse(JSON.stringify(t.board));d.groups[0].tasks.unshift(r);const o=await k.saveBoard(d);e({type:"loadBoard",board:o})}catch(r){console.log("addItem err",r)}},async saveCmpTitle({state:t,commit:e},{prevCmpTitle:r,newCmpTitle:d}){const o=JSON.parse(JSON.stringify(t.boardForDisplay)),s=o.cmpsOrder.findIndex(n=>n.preName===r);o.cmpsOrder[s].preName=d;try{e({type:"setCmpsOrder",newOrder:o.cmpsOrder}),await k.saveBoard(o)}catch{}},async addUpdate({state:t,commit:e},{txt:r,taskId:d,boardId:o,groupId:s}){try{e({type:"addUpdate",txt:r,taskId:d,boardId:o,groupId:s}),await k.addUpdate(r,d,o,s)}catch{console.log("addUpdate: Had problems")}}}},si={state:{user:null,users:null},getters:{user({user:t}){return t},users({users:t}){return t}},mutations:{userLoggedIn(t,{user:e}){t.user=e},userLoggedOut(t){t.user=null},setUsers(t,{users:e}){t.users=e}},actions:{async login({commit:t},{user:e}){try{const r=await W.login(e);t({type:"setUser",user:r}),console.log("Success!")}catch(r){console.log(r)}},async logout({commit:t},{user:e}){try{const r=await W.logout();t({type:"setUser",user:r}),console.log("Success to logout!")}catch(r){console.log(r)}},async signup({dispatch:t},{newuser:e}){try{const r=await W.signup(e);console.log(r,"signedup user"),t({type:"login",user:r}),console.log("Success to signup!!!")}catch(r){console.log(r)}},async loadUsers({commit:t,state:e}){try{const r=await userService.query();t({type:"setUsers",users:r})}catch(r){console.log("loadUsers err",r)}}}};const ri=he({strict:!0,state(){return{}},getters:{},mutations:{},modules:{boardStore:ti,userStore:si},actions:{async loadApp({dispatch:t}){await t("loadBoards")}}});const P=fe(Fe);ve.add(_e);P.component("fa",be);P.use(ye);P.use(le);P.use(ri);P.use(Ce);P.mount("#app");
